(this["webpackJsonpstudent-app"]=this["webpackJsonpstudent-app"]||[]).push([[0],{151:function(e,t){},153:function(e,t){},167:function(e,t){},169:function(e,t){},197:function(e,t){},199:function(e,t){},200:function(e,t){},206:function(e,t){},208:function(e,t){},226:function(e,t){},228:function(e,t){},240:function(e,t){},243:function(e,t){},264:function(e,t,n){},265:function(e,t,n){"use strict";n.r(t),n.d(t,"fetchUserData",(function(){return $e}));var r={};n.r(r),n.d(r,"name",(function(){return W})),n.d(r,"id",(function(){return F})),n.d(r,"ListPreview",(function(){return H})),n.d(r,"Instructions",(function(){return I})),n.d(r,"Instance",(function(){return L})),n.d(r,"instanceList",(function(){return X}));var c={};n.r(c),n.d(c,"name",(function(){return G})),n.d(c,"id",(function(){return Y})),n.d(c,"ListPreview",(function(){return Z})),n.d(c,"Instance",(function(){return R})),n.d(c,"instanceList",(function(){return $}));var a={};n.r(a),n.d(a,"name",(function(){return de})),n.d(a,"id",(function(){return he})),n.d(a,"ListPreview",(function(){return fe})),n.d(a,"instanceList",(function(){return je})),n.d(a,"Instance",(function(){return be})),n.d(a,"Instructions",(function(){return se}));var s={};n.r(s),n.d(s,"name",(function(){return Te})),n.d(s,"id",(function(){return Me})),n.d(s,"ListPreview",(function(){return Ee})),n.d(s,"Instance",(function(){return ze})),n.d(s,"instanceList",(function(){return Pe})),n.d(s,"Instructions",(function(){return qe}));var i=n(29),o=n(6),u=n(3),l=n.n(u),d=n(8),h=n(2),f=n(0),j=n(1),b=n.n(j),v=n(138),p=n.n(v),m=n(48),O=n(10),g=n(141),x=n(139),w=n.n(x),k=b.a.createContext({user:null,setUser:function(){}});function y(e){var t=Object(j.useState)(),n=Object(h.a)(t,2),r=n[0],c=n[1],a=Object(j.useState)(),s=Object(h.a)(a,2),i=s[0],o=s[1],u=Object(j.useState)(!1),b=Object(h.a)(u,2),v=b[0],p=b[1],m=Object(j.useState)(!1),O=Object(h.a)(m,2),g=O[0],x=O[1],y=Object(j.useContext)(k).setUser,z=function(e,t){e((function(e){var n=t.target.value.replace(/[^a-zA-Z\-']/,"");return n.length<20?n:e}))},N=Object(j.useCallback)(function(){var t=Object(d.a)(l.a.mark((function t(n){var c,a,s,o,u,d,h;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&i){t.next=3;break}return x("missing name"),t.abrupt("return");case 3:return p(n?"create":"login"),c={first:r,last:i},a="".concat("https://secret-plains-66902.herokuapp.com/api","/students")+(n?"":"/login"),t.prev=6,t.next=9,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 9:if(s=t.sent,p(!1),!s.ok){t.next=29;break}return x(!1),t.prev=13,t.next=16,s.json();case 16:o=t.sent.token,u=w.a.decode(o),d=u.student,h={token:o,student:d},sessionStorage.setItem("mcub-student-user",JSON.stringify(h)),y(h),e.history.push("/"),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(13),console.log(t.t0);case 27:t.next=31;break;case 29:x(s.status),console.log("HTTP error, status = "+s.status);case 31:t.next=38;break;case 33:t.prev=33,t.t1=t.catch(6),p(!1),x(500),console.log(t.t1);case 38:case"end":return t.stop()}}),t,null,[[6,33],[13,24]])})));return function(e){return t.apply(this,arguments)}}(),[r,i,e.history,y]),S=Object(j.useCallback)((function(e){"Enter"===e.key&&N(!1)}),[N]);return Object(j.useEffect)((function(){return window.addEventListener("keydown",S),function(){return window.removeEventListener("keydown",S)}}),[S]),Object(f.jsx)("div",{className:"login-container",children:Object(f.jsxs)("div",{className:"login-window",children:[v?Object(f.jsx)("div",{className:"fetching-indicator",children:"create"===v?"Creating new user...":"Logging in..."}):null,g?Object(f.jsx)("p",{className:"login-error",children:404===g?"User not found. Please try again or create a new user.":403===g?"User already exists.":"missing name"===g?"Please enter both your first and last name.":"An error occurred, please try again."}):null,Object(f.jsxs)("div",{className:"name-container first",children:[Object(f.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),Object(f.jsx)("input",{type:"text",name:"firstname",id:"firstname",value:r,onChange:z.bind(null,c)})]}),Object(f.jsxs)("div",{className:"name-container last",children:[Object(f.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(f.jsx)("input",{type:"text",name:"lastname",id:"lastname",value:i,onChange:z.bind(null,o)})]}),Object(f.jsx)("button",{className:"create-student",onClick:function(){return N(!0)},children:"Create"}),Object(f.jsx)("button",{className:"login-student",onClick:function(){return N(!1)},children:"Log-In"})]})})}var z=n(9),N={"-":"-","+":"+","*":"x","/":"\xf7"},S={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],c=Math.floor(r/4),a=r%4,s=(a+c)%4+1;return{row:c,col:a,value:s}})),cages:[]},q={size:4,work:[{col:0,row:0,value:1},{col:1,row:0,value:2},{col:2,row:0,value:3},{col:3,row:0,value:4},{col:0,row:2,value:2},{col:0,row:3,value:4},{col:1,row:3,value:1},{col:3,row:3,value:3},{col:2,row:1,value:2},{col:2,row:2,value:4}],cages:[{squares:[{col:0,row:0},{col:1,row:0}],operation:"+",result:"3"},{squares:[{col:2,row:0},{col:3,row:0}],operation:"-",result:"1"},{squares:[{col:3,row:3}],operation:"",result:"3"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"*",result:"8"},{squares:[{col:2,row:1},{col:2,row:2}],operation:"/",result:"2"}]},C={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],c=[3,2,4,1,2,1,3,4,4,3,1,2,1,4,2,3],a=Math.floor(r/4),s=r%4,i=c[r];return{row:a,col:s,value:i}})),cages:[{squares:[{col:0,row:0},{col:0,row:1}],operation:"+",result:"5"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"+",result:"9"},{squares:[{col:1,row:0},{col:1,row:1},{col:2,row:0}],operation:"-",result:"1"},{squares:[{col:1,row:2},{col:2,row:2}],operation:"+",result:"4"},{squares:[{col:2,row:1},{col:3,row:0},{col:3,row:1}],operation:"-",result:"0"},{squares:[{col:2,row:3},{col:3,row:2},{col:3,row:3}],operation:"+",result:"7"}]};function I(e){var t=e.history;return Object(f.jsxs)("div",{className:"calcudoku-instructions",children:[Object(f.jsxs)("h2",{children:["Calcudoku Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsx)("p",{children:"The goal of each puzzle is to fill the grid using only certain digits \u2013\u2013 1 through 4 for a 4\xd74 grid, 1 through 5 for a 5\xd75, etc. \u2013\u2013 so that no digit appears more than once in any row or any column."}),Object(f.jsx)(T,{data:S}),Object(f.jsx)("p",{children:"Additionally, the grid is divided into heavily outlined groups of squares called \u201ccages\u201d. Each cage has a target number and an operation in its upper left corner. The numbers when the numbers in the cage are combined using the cage\u2019s operation they must equal the target number."}),Object(f.jsx)(T,{data:q}),Object(f.jsx)("p",{children:'Digits may be repeated within a cage, as long as they are not in the same row or column. No operation is relevant for a single-cell cage: placing the "target" in the cell is the only possibility.'}),Object(f.jsx)(T,{data:C}),Object(f.jsxs)("p",{children:["Be careful that you know for sure that a number"," ",Object(f.jsx)("strong",{children:"has"})," to go in a square before you put it there. Making a mistake early can cause trouble later on. Use lots of process of elimination!"]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/calcudoku")},children:"Try It!"})]})}function T(e){var t=e.data,n=t.size,r=Object(j.useState)(function(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];var s=c[1],i=Math.floor(s/t),o=s%t,u=E({col:i,row:o}),l=r.find(u),d=l?l.value:null,h=n.find((function(e){return e.squares.find(u)})),f=M({col:i,row:o},h);if(!h)return{col:i,row:o,value:d,neighbors:f};var j=h.squares.every((function(e){return e.col>=i&&(e.row>=o||e.col>i)})),b=j?h.result:null,v=j?N[h.operation]:null;return{col:i,row:o,value:d,neighbors:f,result:b,operation:v}}))}(t)),c=Object(h.a)(r,2),a=c[0],s=(c[1],Object(j.useState)(null)),i=Object(h.a)(s,2),o=i[0],u=i[1];return Object(f.jsx)("div",{children:a?Object(f.jsx)("div",{className:"puzzle-container instructions",size:n,children:Object(f.jsx)("div",{className:"grid-container",size:n,children:a.map((function(e){var t="calcudoku-square "+e.neighbors.join(" ")+(e===o?" active":"");return Object(f.jsxs)("div",{className:t,onClick:function(){return u(e)},children:[Object(f.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(f.jsx)("input",{type:"number",value:e.value||"",disabled:!0})]})}))})}):null})}function M(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};if(!t)return Object.keys(r);for(var c in r){var a=E(r[c]);t.squares.find(a)&&n.push(c)}return n}function E(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}var P={"-":"-","+":"+","*":"x","/":"\xf7"};function L(e){var t=Object(j.useMemo)((function(){return e.name}),[e.name]),n=Object(j.useMemo)((function(){return"calcudoku-instance-data-".concat(t)}),[t]),r=Object(j.useMemo)((function(){return JSON.parse(sessionStorage.getItem(n))}),[n]),c=Object(j.useState)(r?r.size:null),a=Object(h.a)(c,2),s=a[0],i=a[1],o=Object(j.useState)(r?J(r):null),u=Object(h.a)(o,2),b=u[0],v=u[1],p=Object(j.useState)(r?r.cages:null),m=Object(h.a)(p,2),O=m[0],g=m[1],x=Object(j.useState)(null),w=Object(h.a)(x,2),y=w[0],N=w[1],S=Object(j.useState)(r?"saved":null),q=Object(h.a)(S,2),C=q[0],I=q[1],T=Object(j.useContext)(k).user.token,M="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/calcudoku/").concat(t);Object(j.useEffect)((function(){r||Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(M,{method:"GET",headers:{authorization:T}});case 2:if(!(t=e.sent).ok){e.next=21;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),i(r.size),v(J(r)),g(r.cages),I("saved"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),v([]),console.log(e.t0);case 19:e.next=22;break;case 21:console.log("HTTP error, status = "+t.status);case 22:case"end":return e.stop()}}),e,null,[[4,15]])})))()}),[M,T,r,n]),Object(j.useEffect)((function(){var e="".concat("https://secret-plains-66902.herokuapp.com/api","/activepuzzle");return Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:T},body:JSON.stringify({puzzleName:"calcudoku",puzzleId:t})});case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:T}})}}),[T,t]);var E=Object(j.useCallback)((function(){var e=O.reduce((function(e,t){return D(b,t)||e}),!1),t=b.reduce((function(e,t){return U(b,t)||e}),!1);return!e&&!t}),[b,O]);Object(j.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem(n));e.completed||E()&&(fetch("".concat(M,"/completed"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:T},body:JSON.stringify({completed:!0})}),e.completed=!0,sessionStorage.setItem(n,JSON.stringify(e)))}),[n,E,M,T]);var P=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I("saving"),t=b.map((function(e){return{col:e.col,row:e.row,value:e.value}})),e.next=4,fetch(M,{method:"PUT",headers:{"Content-Type":"application/json",authorization:T},body:JSON.stringify({puzzleData:t})});case 4:r=e.sent,(c=JSON.parse(sessionStorage.getItem(n))).work=t,sessionStorage.setItem(n,JSON.stringify(c)),r.ok?I("saved"):I("error");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(e){var t=e.key;if(y){if(!isNaN(t)&&1<=t&&t<=s)y.value=t;else{var n=y.col,r=y.row;switch(t){case"Backspace":case"Delete":y.value="";break;case"ArrowUp":return void N(b.find(B({col:n-1,row:r}))||y);case"ArrowDown":return void N(b.find(B({col:n+1,row:r}))||y);case"ArrowLeft":return void N(b.find(B({col:n,row:r-1}))||y);case"ArrowRight":return void N(b.find(B({col:n,row:r+1}))||y);default:return}}v(Object(z.a)(b)),P()}else["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&N(b.find(B({col:0,row:0})))};Object(j.useEffect)((function(){return window.addEventListener("keydown",L),function(){return window.removeEventListener("keydown",L)}}));var A=function(e){return Object(f.jsx)("button",{className:"number-select",onClick:function(){y.value=e,v(Object(z.a)(b)),P()},children:e},"num".concat(e))};return Object(f.jsx)("div",{children:b?Object(f.jsxs)("div",{className:"puzzle-container",size:s,children:[Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===C?"Saving...":"error"===C?"An error occurred while saving.":"saved"===C?"Saved.":" "}),Object(f.jsx)("div",{className:"grid-container",size:s,children:b.map((function(e){var n=B(e),r=e.result&&O?O.find((function(e){return e.squares.find(n)})):null,c="calcudoku-square "+e.neighbors.join(" ")+(e===y?" active":"")+(t.match("4x4beginner1")&&U(b,e)?" duplicate":"")+((t.match("4x4beginner1")||t.match("4x4beginner2"))&&r&&D(b,r)?" cageError":"");return Object(f.jsxs)("div",{className:c,onClick:function(){return N(e)},children:[Object(f.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(f.jsx)("input",{type:"number",value:e.value||"",disabled:!0}),Object(f.jsx)("div",{className:"selector"})]})}))}),Object(f.jsx)("div",{className:"number-select-container",children:new Array(s).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return A(r+1)}))})]}):Object(f.jsx)("h2",{className:"loading-indicator",children:"Loading..."})})}function J(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,c=new Array(e),a=0;a<e;a++)c[a]=arguments[a];var s=c[1],i=Math.floor(s/t),o=s%t,u=B({col:i,row:o}),l=r.find(u),d=n.find((function(e){return e.squares.find(u)})),h=A({col:i,row:o},d),f=d.squares.every((function(e){return e.col>=i&&(e.row>=o||e.col>i)})),j=f?d.result:null,b=f?P[d.operation]:null,v=l?l.value:null;return{col:i,row:o,value:v,neighbors:h,result:j,operation:b}}))}function A(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};for(var c in r){var a=B(r[c]);t.squares.find(a)&&n.push(c)}return n}function B(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}function U(e,t){var n=t.col,r=t.row,c=t.value;return e.some((function(e){return(e.row===r||e.col===n)&&!(e.row===r&&e.col===n)&&e.value===c}))}function D(e,t){var n,r,c=t.squares,a=t.operation,s=t.result,i=c.map((function(t){return+e.find(B(t)).value}));if(i.some((function(e){return!e})))return!1;switch(a){case"+":r=0,n=function(e){return function(e,t){return e+t}};break;case"-":r=0,n=function(e){return function(t,n,r){return r===e?t+n:t-n}};break;case"*":r=1,n=function(e){return function(e,t){return e*t}};break;case"/":r=1,n=function(e){return function(t,n,r){return r===e?t*n:t/n}};break;default:r=0,n=function(e){return function(e,t){return t}}}return!i.map((function(e,t,c){return c.reduce(n(t),r)})).includes(+s)}var W="Calcudokus",F="calcudoku";function H(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all calcudokus here"})}var X=[{instance:"instructions",title:"Instructions"},{instance:"4x4beginner1",title:"4x4 Beginner 1"},{instance:"4x4beginner2",title:"4x4 Beginner 2"},{instance:"4x4beginner3",title:"4x4 Beginner 3"},{instance:"4x4beginner4",title:"4x4 Beginner 4"},{instance:"4x4beginner5",title:"4x4 Beginner 5"},{instance:"4x4intermediate1",title:"4x4 Intermediate 1"},{instance:"4x4intermediate2",title:"4x4 Intermediate 2"},{instance:"4x4intermediate3",title:"4x4 Intermediate 3"},{instance:"4x4intermediate4",title:"4x4 Intermediate 4"},{instance:"4x4expert1",title:"4x4 Expert 1"},{instance:"4x4expert2",title:"4x4 Expert 2"},{instance:"4x4expert3",title:"4x4 Expert 3"},{instance:"5x5beginner1",title:"5x5 Beginner 1"},{instance:"5x5beginner2",title:"5x5 Beginner 2"},{instance:"5x5intermediate1",title:"5x5 Intermediate 1"}];function R(e){var t=Object(j.useMemo)((function(){return e.name}),[e.name]),n=Object(j.useMemo)((function(){return"logic-instance-data-".concat(t)}),[t]),r=Object(j.useState)(""),c=Object(h.a)(r,2),a=c[0],s=c[1],i=Object(j.useState)(""),o=Object(h.a)(i,2),u=o[0],b=o[1],v=Object(j.useState)(null),p=Object(h.a)(v,2),m=p[0],O=p[1],g=Object(j.useState)(30),x=Object(h.a)(g,2),w=x[0],y=x[1],z=Object(j.useRef)(!0),N=Object(j.useContext)(k).user.token,S="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/logic/").concat(t);Object(j.useMemo)((function(){var e=JSON.parse(sessionStorage.getItem(n));if(e)return s(e.description),b(e.work),void O("saved");Object(d.a)(l.a.mark((function e(){var t,r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S,{method:"GET",headers:{authorization:N}});case 2:if(!(t=e.sent).ok){e.next=21;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,c=r.description,a=r.work,sessionStorage.setItem(n,JSON.stringify({description:c,work:a})),s(c),b(a),O("saved"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0);case 19:e.next=22;break;case 21:console.log("HTTP error, status = "+t.status);case 22:case"end":return e.stop()}}),e,null,[[4,16]])})))()}),[S,N,b,n]),Object(j.useEffect)((function(){var e="".concat("https://secret-plains-66902.herokuapp.com/api","/activepuzzle");return Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:N},body:JSON.stringify({puzzleName:"logic",puzzleId:t})});case 2:n.sent;case 3:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:N}})}}),[N,t]);var q=Object(j.useCallback)(Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O("saving"),e.next=3,fetch(S,{method:"PUT",headers:{"Content-Type":"application/json",authorization:N},body:JSON.stringify({puzzleData:u})});case 3:t=e.sent,(r=JSON.parse(sessionStorage.getItem(n))).work=u,sessionStorage.setItem(n,JSON.stringify(r)),t.ok?O("saved"):O("error");case 8:case"end":return e.stop()}}),e)}))),[N,u,S,n]);return Object(j.useEffect)((function(){if(z.current)return z.current=!1;O(null);var t=e.history.listen(q),n=setTimeout(q,3e3);return function(){clearTimeout(n),t()}}),[q,e.history,O,z]),Object(j.useEffect)((function(){var e=function(){"saved"!==m&&q()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[q,m]),Object(j.useEffect)((function(){0===w&&(y(30),m||q())}),[w,q,m]),Object(j.useEffect)((function(){var e=setInterval((function(){return y((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}),[y]),a?Object(f.jsxs)("div",{className:"logic instance",children:[Object(f.jsx)("p",{className:"puzzle-description",children:a}),Object(f.jsx)("textarea",{className:"work",onChange:function(e){b(e.target.value)},value:u,placeholder:"Enter your solution or any notes here!"}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===m?"Saving...":"error"===m?"An error occurred while saving.":"saved"===m?"Saved.":" "})]}):Object(f.jsx)("h2",{className:"loading-indicator",children:"Loading..."})}X.fetchCompletionStatus=$e;var G="Logic Puzzles",Y="logic";function Z(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all logic puzzles here"})}var $=[{instance:"wolfgoatcabbage",title:"Wolf, Goat, Cabbage"},{instance:"torch",title:"Bridge & Torch"},{instance:"goldboxes",title:"Find the Gold"},{instance:"10coins",title:"10 Coins"},{instance:"socks",title:"Cathy's Socks"},{instance:"childrenboat",title:"2 Adults, 2 Children, a Boat, and a River"},{instance:"applesandoranges",title:"Apples & Oranges"},{instance:"averybobbycam",title:"Avery, Bobby, & Cam"},{instance:"bear",title:"Bear"},{instance:"hats",title:"Hats"}];function K(e){var t=Object(j.useMemo)((function(){return e.name}),[e.name]),n=Object(j.useMemo)((function(){return"light-instance-data-".concat(t)}),[t]),r=Object(j.useMemo)((function(){return JSON.parse(sessionStorage.getItem(n))}),[n]),c=Object(j.useState)(r||{size:{},work:[],beginstate:[],neighborType:"+",workPosition:0}),a=Object(h.a)(c,2),s=a[0],i=a[1],o=Object(j.useState)(s.work),u=Object(h.a)(o,2),b=u[0],v=u[1],p=Object(j.useState)(s.workPosition||b.length),m=Object(h.a)(p,2),O=m[0],g=m[1],x=s.size,w=x.cols,y=x.rows,N=s.beginstate,S=s.neighborType,q=Object(j.useState)(r?"saved":null),C=Object(h.a)(q,2),I=C[0],T=C[1],M=Object(j.useContext)(k).user.token,E="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/light/").concat(t);Object(j.useEffect)((function(){r||Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(E,{method:"GET",headers:{authorization:M}});case 2:if(!(t=e.sent).ok){e.next=19;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),i(r),v(r.work),T("saved"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:e.next=20;break;case 19:console.log("HTTP error, status = "+t.status);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))()}),[E,M,r,n]),Object(j.useEffect)((function(){var e="".concat("https://secret-plains-66902.herokuapp.com/api","/activepuzzle");return Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:M},body:JSON.stringify({puzzleName:"light",puzzleId:t})});case 2:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:M}})}}),[M,t]);var P=Object(j.useCallback)((function(e){var t=function(e){var t=e.row,n=e.col;switch(S){case"x":return[{row:t-1,col:n-1},{row:t+1,col:n+1},{row:t+1,col:n-1},{row:t-1,col:n+1},{row:t,col:n}];default:return[{row:t-1,col:n},{row:t+1,col:n},{row:t,col:n-1},{row:t,col:n+1},{row:t,col:n}]}}(e);return(b.slice(0,O).filter((function(e){return t.some(Q(e))})).length+(N.some(Q(e))?1:0))%2>0}),[b,O,N]),L=Object(j.useCallback)((function(){for(var e=0;e<y;e++)for(var t=0;t<w;t++)if(!P({row:e,col:t}))return!1;return!0}),[w,y,P]);Object(j.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem(n));e.completed||L()&&(fetch("".concat(E,"/completed"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:M},body:JSON.stringify({completed:!0})}),e.completed=!0,sessionStorage.setItem(n,JSON.stringify(e)))}),[n,L,E,M]);var J=function(){var e=Object(d.a)(l.a.mark((function e(t){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("saving"),e.next=3,fetch(E,{method:"PUT",headers:{"Content-Type":"application/json",authorization:M},body:JSON.stringify({puzzleData:t})});case 3:r=e.sent,(c=JSON.parse(sessionStorage.getItem(n))).work=t,c.workPosition=t.length,sessionStorage.setItem(n,JSON.stringify(c)),r.ok?T("saved"):T("error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=[].concat(Object(z.a)(b.slice(0,O)),[e]);g(O+1),v(t),J(t)},B=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=n[1],a="light-square ".concat(P({row:e,col:c})?"active":"inactive");return Object(f.jsx)("div",{className:a,onClick:function(){return A({row:e,col:c})}})},U=function(e){g(e);var t=JSON.parse(sessionStorage.getItem(n));t.workPosition=e,sessionStorage.setItem(n,JSON.stringify(t))};return Object(f.jsxs)("div",{className:"light-puzzle-container",children:[Object(f.jsxs)("div",{className:"moves-indicator",children:["Moves: ",Object(f.jsx)("span",{className:"moves",children:O})]}),Object(f.jsx)("div",{className:"light-grid",cols:w,rows:y,children:new Array(y).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Object(f.jsx)("div",{className:"grid-row",children:Array(w).fill(null).map(B.bind(null,r))})}))}),Object(f.jsxs)("div",{className:"controller",children:[Object(f.jsx)(_,{jump:function(){return U(0)},isactive:O>0}),Object(f.jsx)(V,{step:function(){return U(Math.max(O-1,0))},isactive:O>0}),Object(f.jsx)(ee,{step:function(){return U(Math.min(O+1,b.length))},isactive:O<b.length}),Object(f.jsx)(te,{jump:function(){return U(b.length)},isactive:O<b.length})]}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===I?"Saving...":"error"===I?"An error occurred while saving.":"saved"===I?"Saved.":" "})]})}function Q(e){var t=e.row,n=e.col;return function(e){return e.col===n&&e.row===t}}function V(e){var t=e.step,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"step back nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1344 576v896q0 26-19 45t-45 19-45-19l-448-448q-19-19-19-45t19-45l448-448q19-19 45-19t45 19 19 45z"})})}function _(e){var t=e.jump,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"jump back nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1811 269q19-19 32-13t13 32v1472q0  26-13 32t-32-13l-710-710q-8-9-13-19v710q0  26-13 32t-32-13l-710-710q-19-19-19-45t19-45l710-710q19-19  32-13t13 32v710q5-11 13-19z"})})}function ee(e){var t=e.step,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"step forward nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1280 1024q0 26-19 45l-448 448q-19 19-45  19t-45-19-19-45v-896q0-26 19-45t45-19 45  19l448 448q19 19 19 45z"})})}function te(e){var t=e.jump,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"jump forward nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M237 1779q-19 19-32 13t-13-32v-1472q0-26 13-32t32 13l710  710q8 8 13 19v-710q0-26 13-32t32 13l710 710q19 19 19 45t-19  45l-710 710q-19 19-32 13t-13-32v-710q-5 10-13 19z"})})}$.fetchCompletionStatus=$e;var ne={size:{cols:1,rows:1},beginstate:[],work:[]},re={size:{cols:3,rows:1},beginstate:[],work:[]},ce={size:{cols:3,rows:3},beginstate:[],work:[]},ae={size:{cols:3,rows:3},beginstate:[],work:[],neighborType:"x"};function se(e){var t=e.history;return Object(f.jsxs)("div",{className:"light-instructions",children:[Object(f.jsxs)("h2",{children:["Light Puzzle Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"steps",children:[Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"Here, the goal is to light up all the squares. Clicking a square toggles it on and off (clicking a dark square will light it up and clicking a lit square will make it dark again)."}),Object(f.jsx)(oe,{data:ne})]}),Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"However, when you click on a square the same thing will happen to squares that are next to it."}),Object(f.jsx)(oe,{data:re})]}),Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"You can use the navigation buttons at the bottom of the puzzle to go back and forward through the moves you've made."}),Object(f.jsx)(oe,{data:re,showNav:!0})]}),Object(f.jsx)("div",{className:"step",children:Object(f.jsx)("p",{className:"emphasized",children:"It can be tempting to click randomly, but take it slow! Try to light up all the squares using as few moves as you can!"})})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/light")},children:"Try It!"})]})}function ie(e){var t=e.history;return Object(f.jsxs)("div",{className:"light-instructions",children:[Object(f.jsxs)("h2",{children:["Light Puzzle-X Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"steps",children:[Object(f.jsx)("div",{className:"step",children:Object(f.jsx)("p",{children:'Puzzles marked with an "X" work a little differently. Clicking a square will light up squares the diagonal to it instead of ones directly next to it.'})}),Object(f.jsxs)("div",{className:"examples",children:[Object(f.jsxs)("div",{className:"example",children:["Normal Puzzle",Object(f.jsx)(oe,{data:ce})]}),Object(f.jsxs)("div",{className:"example",children:["Puzzle-X",Object(f.jsx)(oe,{data:ae})]})]})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/light/smallx")},children:"Try It!"})]})}function oe(e){var t=e.data,n=e.showNav,r=Object(j.useState)(t.work),c=Object(h.a)(r,2),a=c[0],s=c[1],i=Object(j.useState)(0),o=Object(h.a)(i,2),u=o[0],l=o[1],d=t.size,b=d.cols,v=d.rows,p=t.beginstate,m=t.neighborType,O=function(e){var t=e.row,n=e.col;switch(m){case"x":return[{row:t-1,col:n-1},{row:t+1,col:n+1},{row:t+1,col:n-1},{row:t-1,col:n+1},{row:t,col:n}];default:return[{row:t-1,col:n},{row:t+1,col:n},{row:t,col:n-1},{row:t,col:n+1},{row:t,col:n}]}},g=function(e){l(e)},x=function(e){s([].concat(Object(z.a)(a.slice(0,u)),[e])),l(u+1)},w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=n[1],s=O({row:e,col:c}),i=a.slice(0,u).filter((function(e){return s.some(ue(e))})),o=(i.length+(p.some(ue({row:e,col:c}))?1:0))%2>0,l="light-square ".concat(o?"active":"inactive");return Object(f.jsx)("div",{className:l,onClick:function(){return x({row:e,col:c})}})};return Object(f.jsxs)("div",{className:"light-puzzle-container",children:[Object(f.jsx)("div",{className:"light-grid",cols:b,rows:v,children:new Array(v).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Object(f.jsx)("div",{className:"grid-row",children:Array(b).fill(null).map(w.bind(null,r))})}))}),n?Object(f.jsxs)("div",{className:"controller",children:[Object(f.jsx)(_,{jump:function(){return g(0)},isactive:u>0}),Object(f.jsx)(V,{step:function(){return g(Math.max(u-1,0))},isactive:u>0}),Object(f.jsx)(ee,{step:function(){return g(Math.min(u+1,a.length))},isactive:u<a.length}),Object(f.jsx)(te,{jump:function(){return g(a.length)},isactive:u<a.length})]}):null]})}function ue(e){var t=e.row,n=e.col;return function(e){return e.col===n&&e.row===t}}var le=Array.from({length:5},(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return r+1}));var de="Light Puzzles",he="light";function fe(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all light puzzles here"})}var je=[{instance:"instructions",title:"Instructions"},{instance:"small",title:"Small"},{instance:"medium",title:"Medium"},{instance:"large",title:"Large"},{instance:"instructionsx",title:"Instructions-X"},{instance:"smallx",title:"Small-X"},{instance:"mediumx",title:"Medium-X"},{instance:"largex",title:"Large-X"}];je.fetchCompletionStatus=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$e(t),je.forEach((function(e){var t=e.instance;if(!t.match("instructions")){for(var n=!0,r=1;r<=5;r++){var c="light-instance-data-".concat(t).concat(r),a=JSON.parse(sessionStorage.getItem(c));a&&a.completed||(n=!1)}sessionStorage.setItem("light-instance-data-".concat(t),JSON.stringify({completed:n}))}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var be=function(e){var t=e.history,n=e.name,r=e.match,c=Object(j.useState)(1),a=Object(h.a)(c,2),s=a[0],i=a[1];return Object(j.useEffect)((function(){n.match("instructions")||t.push("/light/".concat(n,"/").concat(s))}),[s,n,t]),"instructionsx"===n?Object(f.jsx)(ie,{history:t}):Object(f.jsxs)("div",{className:"light category-container ".concat(n),children:[Object(f.jsxs)(O.d,{children:[le.map(function(e,t){return Object(f.jsx)(O.b,{path:"".concat(e.url,"/").concat(t),render:function(e){return Object(f.jsx)(K,Object(o.a)(Object(o.a)({},e),{},{name:"".concat(n).concat(t)}))}},t)}.bind(null,r)),Object(f.jsx)(O.b,{render:function(){return t.push("/light")}})]}),Object(f.jsxs)("div",{className:"selector-container",children:[Object(f.jsx)("button",{className:"previous selector  ".concat(1===s?"inactive":"active"),onClick:function(){return i(Math.max(s-1,1))},children:"Prev"}),le.map((function(e){return Object(f.jsx)("button",{onClick:function(){return i(e)},className:"instance selector ".concat(e===s?"selected":"")},"selector-".concat(e))})),Object(f.jsx)("button",{className:"next selector  ".concat(s===le.length?"inactive":"active"),onClick:function(){return i(Math.min(s+1,5))},children:"Next"})]})]})};function ve(e){return{x:e.y,y:-e.x}}function pe(e,t){var n=Object(h.a)(t,2),r=n[0],c=n[1],a=ve({x:c.x-r.x,y:c.y-r.y}),s=[r,xe(r,a)],i=[c,xe(c,a)];return Oe(e,s)+Oe(e,i)<=me(r,c)+1?Oe(e,[r,c]):Math.min(me(e,r),me(e,c))}function me(e,t){return ke(ge(e,t))}function Oe(e,t){var n=Object(h.a)(t,2),r=n[0],c=ge(r,n[1]),a=ge(e,r);return Math.abs(c.x*a.y-c.y*a.x)/ke(c)}function ge(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xe(e,t){return{x:e.x+t.x,y:e.y+t.y}}function we(e,t){return{x:e.x*t,y:e.y*t}}function ke(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function ye(e){var t=Object(j.useRef)(null),n=e.puzzleData,r=e.sticks,c=e.setSticks,a=e.updateWork,s=n.height,o=n.width,u=n.selectionProximity,l=n.startingConfiguration,d=n.stickLength,b=n.stickWidth,v=Object(j.useState)(null),p=Object(h.a)(v,2),m=p[0],O=p[1],g=Object(j.useState)(null),x=Object(h.a)(g,2),w=x[0],k=x[1],y=Object(j.useState)({x:0,y:0}),N=Object(h.a)(y,2),S=N[0],q=N[1],C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e.target.getBoundingClientRect(),r={x:(t.clientX-n.left)/n.width*o,y:(t.clientY-n.top)/n.height*s};return q(r),r},I=Object(j.useCallback)((function(e){if(!w)return r.flatMap((function(e){return e})).reduce((function(t,n){var r=me(n,e),c=t?me(e,t):1/0;return r<Math.min(c,u)?n:t}),null)}),[r,u,w]),T=Object(j.useCallback)((function(e){return w||r.reduce((function(t,n){return pe(e,n)<Math.min(t?pe(e,t):1/0,u)?n:t}),null)}),[r,u,w]),M=function(e){var t=I(e);if(t){var n=r.find((function(e){return e.includes(t)}));return O(t),k(n),t}},E=function(e){var t=T(e);return k(t),t},P=function(e){if(m){var t=w.find((function(e){return e!==m})),n=ge(e,t),a=we(n,d/ke(n));m.x=t.x+a.x,m.y=t.y+a.y,c(Object(z.a)(r))}},L=function(){k(null),O(null)},J=function(){a(),L()},A=Object(j.useCallback)((function(e){e.clearRect(0,0,o,s),e.beginPath(),e.lineWidth=b,e.lineCap="round",e.stroke();var t,n=Object(i.a)(r);try{for(n.s();!(t=n.n()).done;){var c=Object(h.a)(t.value,2),a=c[0],u=c[1];e.beginPath(),e.lineWidth=b,e.strokeStyle="#0b032d",e.moveTo(a.x,a.y),e.lineTo(u.x,u.y),e.stroke()}}catch(p){n.e(p)}finally{n.f()}var l=I(S)||m;if(l)e.beginPath(),e.arc(l.x,l.y,2*b,0,2*Math.PI),e.fillStyle="#7354f455",e.shadowBlur=b,e.shadowColor=e.fillStyle,e.fill(),e.shadowBlur=0,e.shadowColor="#0b032d";else{var d=T(S)||w;if(d){var f=Object(h.a)(d,2),j=f[0],v=f[1];e.beginPath(),e.strokeStyle="#7354f455",e.lineWidth=3*b,e.moveTo(j.x,j.y),e.lineTo(v.x,v.y),e.stroke()}}}),[r,s,o,l,S,I,T,m,w,b]);return Object(j.useEffect)((function(){var e=t.current.getContext("2d");A(e)}),[A]),Object(j.useEffect)((function(){var e=function(e){return w||m?e.preventDefault():null};return document.body.addEventListener("touchmove",e,{passive:!1}),function(){return document.body.removeEventListener("touchmove",e)}}),[w,m]),Object(f.jsx)("canvas",{id:"mandelbrot-canvas",ref:t,height:s,width:o,onTouchStart:function(e){var t=e.touches[0],n=C(e,t);M(n)||E(n)},onTouchEnd:J,onTouchMove:function(e){var t=e.touches[0],n=C(e,t);P(n),function(e){if(!m&&w){var t=we(xe.apply(void 0,Object(z.a)(w)),.5),n={x:e.x-t.x,y:e.y-t.y};for(var a in w){var s=w[a];w[a]=xe(s,n)}c(Object(z.a)(r))}}(n)},onMouseDown:function(e){var t;t=C(e),M(t)||E(t)},onMouseUp:J,onMouseLeave:L,onMouseMove:function(e){var t=C(e);P(t),function(e){if(!m&&w){var t=e.target.getBoundingClientRect();for(var n in w){var a=w[n];w[n]={x:a.x+e.movementX*o/t.width,y:a.y+e.movementY*s/t.height}}c(Object(z.a)(r))}}(e)},className:T(S)||I(S)?"selecting":""})}function ze(e){var t=Object(j.useMemo)((function(){return e.name}),[e.name]),n=Object(j.useMemo)((function(){return"matchstick-instance-data-".concat(t)}),[t]),r=Object(j.useMemo)((function(){return JSON.parse(sessionStorage.getItem(n))}),[n]),c=Object(j.useState)(r||{size:{},work:[],startingConfiguration:[],stickLength:0,selectionProximity:0,height:0,width:0}),a=Object(h.a)(c,2),s=a[0],i=a[1],u=Object(j.useState)(s.work),b=Object(h.a)(u,2),v=b[0],p=b[1],m=Object(j.useState)(r?"saved":null),O=Object(h.a)(m,2),g=O[0],x=O[1],w=Object(j.useContext)(k).user.token,y="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/matchstick/").concat(t);Object(j.useEffect)((function(){r||Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y,{method:"GET",headers:{authorization:w}});case 2:if(!(t=e.sent).ok){e.next=19;break}return e.prev=4,e.next=7,t.json();case 7:r=e.sent,sessionStorage.setItem(n,JSON.stringify(r)),i(r),p(r.work),x("saved"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0);case 17:e.next=20;break;case 19:console.log("HTTP error, status = "+t.status);case 20:case"end":return e.stop()}}),e,null,[[4,14]])})))()}),[y,w,r,n]),Object(j.useEffect)((function(){var e="".concat("https://secret-plains-66902.herokuapp.com/api","/activepuzzle");return Object(d.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",authorization:w},body:JSON.stringify({puzzleName:"matchstick",puzzleId:t})});case 2:case"end":return n.stop()}}),n)})))(),function(){fetch(e,{method:"DELETE",headers:{authorization:w}})}}),[w,t]);var z=function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,c,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:v,x("saving"),e.next=4,fetch(y,{method:"PUT",headers:{"Content-Type":"application/json",authorization:w},body:JSON.stringify({puzzleData:t})});case 4:r=e.sent,(c=JSON.parse(sessionStorage.getItem(n))).work=t,sessionStorage.setItem(n,JSON.stringify(c)),r.ok?x("saved"):x("error");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:s.description}),Object(f.jsxs)("div",{className:"matchstick display-container",children:[Object(f.jsx)(Ne,{reset:function(){var e=s.startingConfiguration.map((function(e){return e.map((function(e){return Object(o.a)({},e)}))}));p(e),z(e)},isactive:!0}),Object(f.jsx)(ye,{puzzleData:s,sticks:v,setSticks:p,updateWork:z}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===g?"Saving...":"error"===g?"An error occurred while saving.":"saved"===g?"Saved.":" "})]})]})}function Ne(e){var t=e.reset,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Se={height:1024,width:1024,selectionProximity:25,stickLength:400,stickWidth:12,startingConfiguration:[[{x:100,y:312},{x:100,y:712}],[{x:130,y:312},{x:130,y:712}],[{x:160,y:312},{x:160,y:712}]]};function qe(e){var t=e.history;return Object(f.jsxs)("div",{className:"matchstick-instructions",children:[Object(f.jsxs)("h2",{children:["Matchstick Puzzle Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"instructions",children:[Object(f.jsx)("p",{children:"Before you try the puzzles, see if you can make a triangle using the sticks below."}),Object(f.jsx)("p",{children:"You can move sticks by dragging them from their middle and rotate sticks by dragging them from either end."}),Object(f.jsx)("p",{children:"The button in the upper left resets the sticks to their original position."}),Object(f.jsx)(Ce,{data:Se}),Object(f.jsx)("p",{children:"These puzzle can be really tricky, good luck!"})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/matchstick")},children:"Try It!"})]})}function Ce(e){var t=e.data,n=Object(j.useState)(t.startingConfiguration),r=Object(h.a)(n,2),c=r[0],a=r[1],s=function(){var e=t.startingConfiguration.map((function(e){return e.map((function(e){return Object(o.a)({},e)}))}));a(e)};return Object(j.useEffect)(s,[]),Object(f.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:t.description}),Object(f.jsxs)("div",{className:"matchstick display-container",children:[Object(f.jsx)(Ie,{reset:s,isactive:!0}),Object(f.jsx)(ye,{puzzleData:t,sticks:c,setSticks:a,updateWork:function(){}})]})]})}function Ie(e){var t=e.reset,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Te="Matchstick Puzzles",Me="matchstick";function Ee(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all matchtick puzzles here"})}var Pe=[{instance:"instructions",title:"Instructions"},{instance:"fish",title:"Fish"},{instance:"squares1",title:"Squares 1"},{instance:"squares2",title:"Squares 2"},{instance:"squares3",title:"Squares 3"},{instance:"donkey",title:"Donkey"},{instance:"squares4",title:"Squares 4"},{instance:"squares5",title:"Squares 5"}];Pe.fetchCompletionStatus=$e;Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2);n(78);var Le=[c,r,a,s],Je="/matchstick/instructions",Ae=function(){return Object(f.jsx)("div",{className:"potd-preview",children:"Creating different images with sticks!"})};function Be(e){var t=e.history,n=Object(j.useContext)(k).user.token;return Object(f.jsxs)("div",{className:"dashboard-container",children:[Object(f.jsx)(Ue,{history:t,token:n}),Object(f.jsxs)("div",{className:"puzzle-list-container",children:[Object(f.jsx)("h2",{children:"Individual Work"}),Object(f.jsx)("ul",{children:Le.map(De.bind(null,t,n))})]})]})}function Ue(e){var t=Ae;return Object(f.jsxs)("div",{className:"potd-container",onClick:function(){return e.history.push(Je,{token:e.token})},children:[Object(f.jsx)("h2",{children:"Puzzle of the Day"}),Object(f.jsx)(t,{})]})}function De(e,t,n){return Object(f.jsxs)("li",{onClick:function(){return e.push("/".concat(n.id),{token:t})},children:[Object(f.jsx)("h3",{children:n.name}),n.ListPreview()]},n.id)}function We(e){var t=e.history,n=e.instanceList,r=e.title,c=e.puzzleType,a=Object(j.useContext)(k).user,s=Object(j.useState)(!1),i=Object(h.a)(s,2),o=i[0],u=i[1];Object(j.useEffect)((function(){o||Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchCompletionStatus(a);case 2:u(!0);case 3:case"end":return e.stop()}}),e)})))()}),[o,n,a]);return Object(f.jsxs)("div",{className:"instance-list-container",children:[Object(f.jsx)("h2",{children:r}),Object(f.jsx)("ul",{style:{"grid-template-rows":"repeat(".concat(Math.ceil(n.length/2),", 1fr)")},children:n.map(function(e,t){var n,r=t.instance,a=t.title,s="".concat(c,"-instance-data-").concat(r),i=JSON.parse(sessionStorage.getItem(s)),o=!!i&&i.completed;return Object(f.jsx)("li",{onClick:function(){return e.push("/".concat(c,"/").concat(r))},className:o?"completed":"",children:Object(f.jsx)("h3",{children:(n=a,n.replace(/^./,(function(e){return e.toUpperCase()})))})},r)}.bind(null,t))})]})}function Fe(e){var t=e.match,n=e.Instance,r=e.Instructions,c=e.id,a=e.name,s=e.instanceList;return Object(f.jsxs)(O.d,{children:[Object(f.jsx)(O.b,{path:"".concat(t.url,"/instructions"),render:function(e){return Object(f.jsx)(r,Object(o.a)({},e))}},"instructions"),s.map(function(e,t){var r=t.instance;return Object(f.jsx)(O.b,{path:"".concat(e.url,"/").concat(r),render:function(e){return Object(f.jsx)(n,Object(o.a)(Object(o.a)({},e),{},{name:r}))}},r)}.bind(null,t)),Object(f.jsx)(O.b,{exact:!0,path:t.url,render:function(e){return Object(f.jsx)(We,Object(o.a)(Object(o.a)({},e),{},{instanceList:s,title:a,puzzleType:c}))}})]})}n(264);var He=Object(g.a)(),Xe=Object(f.jsx)("path",{d:"M1792 1024v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z"});function Re(){var e=JSON.parse(sessionStorage.getItem("mcub-student-user")),t=Object(j.useState)(e),n=Object(h.a)(t,2),r=n[0],c=n[1],a={user:r,setUser:c};return Object(j.useEffect)((function(){r&&Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e(r);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),[r]),Object(f.jsx)(m.a,{history:He,basename:"/",children:Object(f.jsx)(k.Provider,{value:a,children:r?Object(f.jsxs)("div",{children:[Object(f.jsxs)("nav",{className:"main-nav",children:[Object(f.jsx)(Ye,{student:r.student,setUser:c}),Object(f.jsxs)(O.d,{children:[Object(f.jsx)(O.b,{exact:!0,path:"/"}),Object(f.jsx)(O.b,{component:Ge})]})]}),Object(f.jsxs)(O.d,{children:[Le.map(Ze),Object(f.jsx)(O.b,{path:"/login",component:y}),Object(f.jsx)(O.b,{path:"/",component:Be})]})]}):Object(f.jsxs)(O.d,{children:[Object(f.jsx)(O.b,{path:"/login",component:y}),Object(f.jsx)(O.b,{path:"/",children:Object(f.jsx)(O.a,{to:"/login"})})]})})})}function Ge(e){var t=e.history,n=window.location.href.match(/#(.*)\/[^/]+$/)[1];return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:function(){return t.push(n)},className:"back-button",children:Xe})}function Ye(e){var t=e.student,n=e.setUser;return Object(f.jsxs)("div",{className:"profile-bar",children:[Object(f.jsxs)("span",{className:"student-name",children:[Qe(t.first)," ",Qe(t.last)]}),Object(f.jsx)("button",{onClick:function(){n(null),sessionStorage.removeItem("mcub-student-user")},className:"log-out",children:"Log Out"})]})}function Ze(e){var t=e.Instance,n=e.id,r=e.Instructions,c=e.name,a=e.instanceList;return Object(f.jsx)(O.b,{path:"/".concat(e.id),render:function(e){return Object(f.jsx)(Fe,Object(o.a)(Object(o.a)({},e),{},{Instance:t,id:n,Instructions:r,name:c,instanceList:a}))}},e.id)}function $e(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(d.a)(l.a.mark((function e(t){var n,r,c,a,s,o,u,d,h,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r="".concat("https://secret-plains-66902.herokuapp.com/api","/data"),e.next=4,fetch(r,{method:"GET",headers:{authorization:n}});case 4:if(!(c=e.sent).ok){e.next=12;break}return e.next=8,c.json();case 8:for(s in a=e.sent){o=Object(i.a)(a[s]);try{for(o.s();!(u=o.n()).done;)d=u.value,h=d.puzzleId,f="".concat(s,"-instance-data-").concat(h),sessionStorage.setItem(f,JSON.stringify(d))}catch(l){o.e(l)}finally{o.f()}}e.next=13;break;case 12:console.log("HTTP error, status = ".concat(c.status));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){return e.replace(/^.|\W./g,(function(e){return e.toUpperCase()}))}p.a.render(Object(f.jsx)(b.a.StrictMode,{children:Object(f.jsx)(Re,{})}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.7c16b6f7.chunk.js.map