(this["webpackJsonpstudent-app"]=this["webpackJsonpstudent-app"]||[]).push([[0],{151:function(e,t){},153:function(e,t){},167:function(e,t){},169:function(e,t){},197:function(e,t){},199:function(e,t){},200:function(e,t){},206:function(e,t){},208:function(e,t){},226:function(e,t){},228:function(e,t){},240:function(e,t){},243:function(e,t){},264:function(e,t,n){},265:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"name",(function(){return G})),n.d(r,"id",(function(){return _})),n.d(r,"ListPreview",(function(){return K})),n.d(r,"Instructions",(function(){return I})),n.d(r,"Instance",(function(){return D})),n.d(r,"instanceList",(function(){return Z}));var a={};n.r(a),n.d(a,"name",(function(){return Q})),n.d(a,"id",(function(){return V})),n.d(a,"ListPreview",(function(){return ee})),n.d(a,"Instance",(function(){return $})),n.d(a,"instanceList",(function(){return te}));var c={};n.r(c),n.d(c,"name",(function(){return ge})),n.d(c,"id",(function(){return me})),n.d(c,"ListPreview",(function(){return pe})),n.d(c,"instanceList",(function(){return xe})),n.d(c,"Instance",(function(){return Oe})),n.d(c,"Instructions",(function(){return de}));var i={};n.r(i),n.d(i,"name",(function(){return Je})),n.d(i,"id",(function(){return We})),n.d(i,"ListPreview",(function(){return Fe})),n.d(i,"Instance",(function(){return Te})),n.d(i,"instanceList",(function(){return Ue})),n.d(i,"Instructions",(function(){return Ae}));var s={};n.r(s),n.d(s,"name",(function(){return nt})),n.d(s,"id",(function(){return rt})),n.d(s,"ListPreview",(function(){return at})),n.d(s,"Instance",(function(){return Ve})),n.d(s,"instanceList",(function(){return ct})),n.d(s,"Instructions",(function(){return tt}));var o={};n.r(o),n.d(o,"id",(function(){return dt})),n.d(o,"Instance",(function(){return ut})),n.d(o,"Instructions",(function(){return ht}));var u=n(4),l=n(7),h=n.n(l),d=n(13),j=n(2),f=n(0),b=n(1),v=n.n(b),g=n(138),m=n.n(g),p=n(48),x=n(9),O=n(141),w=n(139),y=n.n(w),k=v.a.createContext({user:null,setUser:function(){}});function q(e){var t=Object(b.useState)(),n=Object(j.a)(t,2),r=n[0],a=n[1],c=Object(b.useState)(),i=Object(j.a)(c,2),s=i[0],o=i[1],u=Object(b.useState)(!1),l=Object(j.a)(u,2),v=l[0],g=l[1],m=Object(b.useState)(!1),p=Object(j.a)(m,2),x=p[0],O=p[1],w=Object(b.useContext)(k).setUser,q=function(e,t){e((function(e){var n=t.target.value.replace(/[^a-zA-Z\-']/,"");return n.length<20?n:e}))},N=Object(b.useCallback)(function(){var t=Object(d.a)(h.a.mark((function t(n){var a,c,i,o,u,l,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r&&s){t.next=3;break}return O("missing name"),t.abrupt("return");case 3:return g(n?"create":"login"),a={first:r,last:s},c="".concat("https://secret-plains-66902.herokuapp.com/api","/students")+(n?"":"/login"),t.prev=6,t.next=9,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:if(i=t.sent,g(!1),!i.ok){t.next=29;break}return O(!1),t.prev=13,t.next=16,i.json();case 16:o=t.sent.token,u=y.a.decode(o),l=u.student,d={token:o,student:l},sessionStorage.setItem("mcub-student-user",JSON.stringify(d)),w(d),e.history.push("/"),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(13),console.log(t.t0);case 27:t.next=31;break;case 29:O(i.status),console.log("HTTP error, status = "+i.status);case 31:t.next=38;break;case 33:t.prev=33,t.t1=t.catch(6),g(!1),O(500),console.log(t.t1);case 38:case"end":return t.stop()}}),t,null,[[6,33],[13,24]])})));return function(e){return t.apply(this,arguments)}}(),[r,s,e.history,w]),S=Object(b.useCallback)((function(e){"Enter"===e.key&&N(!1)}),[N]);return Object(b.useEffect)((function(){return window.addEventListener("keydown",S),function(){return window.removeEventListener("keydown",S)}}),[S]),Object(f.jsx)("div",{className:"login-container",children:Object(f.jsxs)("div",{className:"login-window",children:[v?Object(f.jsx)("div",{className:"fetching-indicator",children:"create"===v?"Creating new user...":"Logging in..."}):null,x?Object(f.jsx)("p",{className:"login-error",children:404===x?"User not found. Please try again or create a new user.":403===x?"User already exists.":"missing name"===x?"Please enter both your first and last name.":"An error occurred, please try again."}):null,Object(f.jsxs)("div",{className:"name-container first",children:[Object(f.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),Object(f.jsx)("input",{type:"text",name:"firstname",id:"firstname",value:r,onChange:q.bind(null,a)})]}),Object(f.jsxs)("div",{className:"name-container last",children:[Object(f.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(f.jsx)("input",{type:"text",name:"lastname",id:"lastname",value:s,onChange:q.bind(null,o)})]}),Object(f.jsx)("button",{className:"create-student",onClick:function(){return N(!0)},children:"Create"}),Object(f.jsx)("button",{className:"login-student",onClick:function(){return N(!1)},children:"Log-In"})]})})}var N=n(8),S={"-":"-","+":"+","*":"x","/":"\xf7"},z={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],a=Math.floor(r/4),c=r%4,i=(c+a)%4+1;return{row:a,col:c,value:i}})),cages:[]},M={size:4,work:[{col:0,row:0,value:1},{col:1,row:0,value:2},{col:2,row:0,value:3},{col:3,row:0,value:4},{col:0,row:2,value:2},{col:0,row:3,value:4},{col:1,row:3,value:1},{col:3,row:3,value:3},{col:2,row:1,value:2},{col:2,row:2,value:4}],cages:[{squares:[{col:0,row:0},{col:1,row:0}],operation:"+",result:"3"},{squares:[{col:2,row:0},{col:3,row:0}],operation:"-",result:"1"},{squares:[{col:3,row:3}],operation:"",result:"3"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"*",result:"8"},{squares:[{col:2,row:1},{col:2,row:2}],operation:"/",result:"2"}]},C={size:4,work:Array(16).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1],a=[3,2,4,1,2,1,3,4,4,3,1,2,1,4,2,3],c=Math.floor(r/4),i=r%4,s=a[r];return{row:c,col:i,value:s}})),cages:[{squares:[{col:0,row:0},{col:0,row:1}],operation:"+",result:"5"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"+",result:"9"},{squares:[{col:1,row:0},{col:1,row:1},{col:2,row:0}],operation:"-",result:"1"},{squares:[{col:1,row:2},{col:2,row:2}],operation:"+",result:"4"},{squares:[{col:2,row:1},{col:3,row:0},{col:3,row:1}],operation:"-",result:"0"},{squares:[{col:2,row:3},{col:3,row:2},{col:3,row:3}],operation:"+",result:"7"}]};function I(e){var t=e.history;return Object(f.jsxs)("div",{className:"calcudoku-instructions",children:[Object(f.jsxs)("h2",{children:["Calcudoku Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsx)("p",{children:"The goal of each puzzle is to fill the grid using only certain digits \u2013\u2013 1 through 4 for a 4\xd74 grid, 1 through 5 for a 5\xd75, etc. \u2013\u2013 so that no digit appears more than once in any row or any column."}),Object(f.jsx)(T,{data:z}),Object(f.jsx)("p",{children:"Additionally, the grid is divided into heavily outlined groups of squares called \u201ccages\u201d. Each cage has a target number and an operation in its upper left corner. The numbers when the numbers in the cage are combined using the cage\u2019s operation they must equal the target number."}),Object(f.jsx)(T,{data:M}),Object(f.jsx)("p",{children:'Digits may be repeated within a cage, as long as they are not in the same row or column. No operation is relevant for a single-cell cage: placing the "target" in the cell is the only possibility.'}),Object(f.jsx)(T,{data:C}),Object(f.jsxs)("p",{children:["Be careful that you know for sure that a number"," ",Object(f.jsx)("strong",{children:"has"})," to go in a square before you put it there. Making a mistake early can cause trouble later on. Use lots of process of elimination!"]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/calcudoku")},children:"Try It!"})]})}function T(e){var t=e.data,n=t.size,r=Object(b.useState)(function(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];var i=a[1],s=Math.floor(i/t),o=i%t,u=L({col:s,row:o}),l=r.find(u),h=l?l.value:null,d=n.find((function(e){return e.squares.find(u)})),j=P({col:s,row:o},d);if(!d)return{col:s,row:o,value:h,neighbors:j};var f=d.squares.every((function(e){return e.col>=s&&(e.row>=o||e.col>s)})),b=f?d.result:null,v=f?S[d.operation]:null;return{col:s,row:o,value:h,neighbors:j,result:b,operation:v}}))}(t)),a=Object(j.a)(r,2),c=a[0],i=(a[1],Object(b.useState)(null)),s=Object(j.a)(i,2),o=s[0],u=s[1];return Object(f.jsx)("div",{children:c?Object(f.jsx)("div",{className:"puzzle-container instructions",size:n,children:Object(f.jsx)("div",{className:"grid-container",size:n,children:c.map((function(e){var t="calcudoku-square "+e.neighbors.join(" ")+(e===o?" active":"");return Object(f.jsxs)("div",{className:t,onClick:function(){return u(e)},children:[Object(f.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(f.jsx)("input",{type:"number",value:e.value||"",disabled:!0})]})}))})}):null})}function P(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};if(!t)return Object.keys(r);for(var a in r){var c=L(r[a]);t.squares.find(c)&&n.push(a)}return n}function L(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}var A=n(23);function E(e,t){var n=Object(b.useContext)(k).user.token;Object(b.useEffect)((function(){var r="".concat("https://secret-plains-66902.herokuapp.com/api","/activepuzzle");return Object(d.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",authorization:n},body:JSON.stringify({puzzleName:e,puzzleId:t})});case 2:case"end":return a.stop()}}),a)})))(),function(){fetch(r,{method:"DELETE",headers:{authorization:n}})}}),[n,t,e])}function B(e,t,n){var r=Object(b.useContext)(k).user.token,a="".concat(e,"-instance-data-").concat(t),c="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/")+"".concat(e,"/").concat(t);Object(b.useEffect)((function(){var e=JSON.parse(sessionStorage.getItem(a));e.completed||n()&&(fetch("".concat(c,"/completed"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:r},body:JSON.stringify({completed:!0})}),e.completed=!0,sessionStorage.setItem(a,JSON.stringify(e)))}),[a,n,c,r])}function J(e,t,n){var r=Object(b.useContext)(k).user.token,a="".concat(e,"-instance-data-").concat(t),c="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/")+"".concat(e,"/").concat(t);return function(){var e=Object(d.a)(h.a.mark((function e(t){var i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("saving"),e.next=3,fetch(c,{method:"PUT",headers:{"Content-Type":"application/json",authorization:r},body:JSON.stringify({puzzleData:t})});case 3:i=e.sent,(s=JSON.parse(sessionStorage.getItem(a))).work=t,s.workPosition=t.length,sessionStorage.setItem(a,JSON.stringify(s)),i.ok?n("saved"):n("error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function W(e){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(h.a.mark((function e(t){var n,r,a,c,i,s,o,u,l,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r="".concat("https://secret-plains-66902.herokuapp.com/api","/data"),e.next=4,fetch(r,{method:"GET",headers:{authorization:n}});case 4:if(!(a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:for(i in c=e.sent){s=Object(A.a)(c[i]);try{for(s.s();!(o=s.n()).done;)u=o.value,l=u.puzzleId,d="".concat(i,"-instance-data-").concat(l),sessionStorage.setItem(d,JSON.stringify(u))}catch(h){s.e(h)}finally{s.f()}}e.next=13;break;case 12:console.log("HTTP error, status = ".concat(a.status));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U={"-":"-","+":"+","*":"x","/":"\xf7"};function D(e){var t=e.name,n="calcudoku-instance-data-".concat(t),r=JSON.parse(sessionStorage.getItem(n)),a=r.size,c=r.cages,i=Object(b.useState)(function(e){var t=e.size,n=e.cages,r=e.work;return Array(Math.pow(t,2)).fill(null).map((function(){for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];var i=a[1],s=Math.floor(i/t),o=i%t,u=X({col:s,row:o}),l=r.find(u),h=n.find((function(e){return e.squares.find(u)})),d=R({col:s,row:o},h),j=h.squares.every((function(e){return e.col>=s&&(e.row>=o||e.col>s)})),f=j?h.result:null,b=j?U[h.operation]:null,v=l?l.value:null;return{col:s,row:o,value:v,neighbors:d,result:f,operation:b}}))}(r)),s=Object(j.a)(i,2),o=s[0],u=s[1],l=Object(b.useState)(null),h=Object(j.a)(l,2),d=h[0],v=h[1],g=Object(b.useState)("saved"),m=Object(j.a)(g,2),p=m[0],x=m[1],O=J("calcudoku",t,x),w=Object(b.useCallback)((function(){var e=c.reduce((function(e,t){return Y(o,t)||e}),!1),t=o.reduce((function(e,t){return H(o,t)||e}),!1);return!e&&!t}),[o,c]),y=function(){var e=o.map((function(e){return{col:e.col,row:e.row,value:e.value}}));O(e)},k=function(e){var t=e.key;if(d){if(!isNaN(t)&&1<=t&&t<=a)d.value=t;else{var n=d.col,r=d.row;switch(t){case"Backspace":case"Delete":d.value="";break;case"ArrowUp":return void v(o.find(X({col:n-1,row:r}))||d);case"ArrowDown":return void v(o.find(X({col:n+1,row:r}))||d);case"ArrowLeft":return void v(o.find(X({col:n,row:r-1}))||d);case"ArrowRight":return void v(o.find(X({col:n,row:r+1}))||d);default:return}}u(Object(N.a)(o)),y()}else["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&v(o.find(X({col:0,row:0})))},q=function(e){return Object(f.jsx)("button",{className:"number-select",onClick:function(){d.value=e,u(Object(N.a)(o)),y()},children:e},"num".concat(e))};return E("calcudoku",t),B("calcudoku",t,w),Object(b.useEffect)((function(){return window.addEventListener("keydown",k),function(){return window.removeEventListener("keydown",k)}})),Object(f.jsx)("div",{children:o?Object(f.jsxs)("div",{className:"puzzle-container",size:a,children:[Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===p?"Saving...":"error"===p?"An error occurred while saving.":"saved"===p?"Saved.":" "}),Object(f.jsx)("div",{className:"grid-container",size:a,children:o.map((function(e){var n=X(e),r=e.result&&c?c.find((function(e){return e.squares.find(n)})):null,a="calcudoku-square "+e.neighbors.join(" ")+(e===d?" active":"")+(t.match("4x4beginner1")&&H(o,e)?" duplicate":"")+((t.match("4x4beginner1")||t.match("4x4beginner2"))&&r&&Y(o,r)?" cageError":"");return Object(f.jsxs)("div",{className:a,onClick:function(){return v(e)},children:[Object(f.jsxs)("div",{className:"cage-indicator",children:[e.result,e.operation]}),Object(f.jsx)("input",{type:"number",value:e.value||"",disabled:!0}),Object(f.jsx)("div",{className:"selector"})]})}))}),Object(f.jsx)("div",{className:"number-select-container",children:new Array(a).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return q(r+1)}))})]}):Object(f.jsx)("h2",{className:"loading-indicator",children:"Loading..."})})}function R(e,t){var n=[],r={"n-up":{col:e.col-1,row:e.row},"n-down":{col:e.col+1,row:e.row},"n-left":{col:e.col,row:e.row-1},"n-right":{col:e.col,row:e.row+1}};for(var a in r){var c=X(r[a]);t.squares.find(c)&&n.push(a)}return n}function X(e){var t=e.col,n=e.row;return function(e){return e.col===t&&e.row===n}}function H(e,t){var n=t.col,r=t.row,a=t.value;return e.some((function(e){return(e.row===r||e.col===n)&&!(e.row===r&&e.col===n)&&e.value===a}))}function Y(e,t){var n,r,a=t.squares,c=t.operation,i=t.result,s=a.map((function(t){return+e.find(X(t)).value}));if(s.some((function(e){return!e})))return!1;switch(c){case"+":r=0,n=function(e){return function(e,t){return e+t}};break;case"-":r=0,n=function(e){return function(t,n,r){return r===e?t+n:t-n}};break;case"*":r=1,n=function(e){return function(e,t){return e*t}};break;case"/":r=1,n=function(e){return function(t,n,r){return r===e?t*n:t/n}};break;default:r=0,n=function(e){return function(e,t){return t}}}return!s.map((function(e,t,a){return a.reduce(n(t),r)})).includes(+i)}var G="Calcudokus",_="calcudoku";function K(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all calcudokus here"})}var Z=[{instance:"instructions",title:"Instructions"},{instance:"4x4beginner1",title:"4x4 Beginner 1"},{instance:"4x4beginner2",title:"4x4 Beginner 2"},{instance:"4x4beginner3",title:"4x4 Beginner 3"},{instance:"4x4beginner4",title:"4x4 Beginner 4"},{instance:"4x4beginner5",title:"4x4 Beginner 5"},{instance:"4x4intermediate1",title:"4x4 Intermediate 1"},{instance:"4x4intermediate2",title:"4x4 Intermediate 2"},{instance:"4x4intermediate3",title:"4x4 Intermediate 3"},{instance:"4x4intermediate4",title:"4x4 Intermediate 4"},{instance:"4x4expert1",title:"4x4 Expert 1"},{instance:"4x4expert2",title:"4x4 Expert 2"},{instance:"4x4expert3",title:"4x4 Expert 3"},{instance:"5x5beginner1",title:"5x5 Beginner 1"},{instance:"5x5beginner2",title:"5x5 Beginner 2"},{instance:"5x5intermediate1",title:"5x5 Intermediate 1"}];function $(e){var t=e.name,n="logic-instance-data-".concat(t),r=JSON.parse(sessionStorage.getItem(n)),a=r.description,c=Object(b.useState)(r.work),i=Object(j.a)(c,2),s=i[0],o=i[1],u=Object(b.useState)("saved"),l=Object(j.a)(u,2),h=l[0],d=l[1],v=Object(b.useState)(30),g=Object(j.a)(v,2),m=g[0],p=g[1],x=Object(b.useRef)(!0),O=J("logic",t,d),w=Object(b.useCallback)((function(){return O(s)}),[s]);return E("logic",t),Object(b.useEffect)((function(){if(x.current)return x.current=!1;d(null);var t=e.history.listen(w),n=setTimeout(w,3e3);return function(){clearTimeout(n),t()}}),[w,e.history,d,x]),Object(b.useEffect)((function(){var e=function(){"saved"!==h&&w()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[w,h]),Object(b.useEffect)((function(){0===m&&(p(30),h||w())}),[m,w,h]),Object(b.useEffect)((function(){var e=setInterval((function(){return p((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}),[p]),a?Object(f.jsxs)("div",{className:"logic instance",children:[Object(f.jsx)("p",{className:"puzzle-description",children:a}),Object(f.jsx)("textarea",{className:"work",onChange:function(e){o(e.target.value)},value:s,placeholder:"Enter your solution or any notes here!"}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===h?"Saving...":"error"===h?"An error occurred while saving.":"saved"===h?"Saved.":" "})]}):Object(f.jsx)("h2",{className:"loading-indicator",children:"Loading..."})}Z.fetchCompletionStatus=W;var Q="Logic Puzzles",V="logic";function ee(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all logic puzzles here"})}var te=[{instance:"wolfgoatcabbage",title:"Wolf, Goat, Cabbage"},{instance:"torch",title:"Bridge & Torch"},{instance:"goldboxes",title:"Find the Gold"},{instance:"10coins",title:"10 Coins"},{instance:"socks",title:"Cathy's Socks"},{instance:"childrenboat",title:"2 Adults, 2 Children, a Boat, and a River"},{instance:"applesandoranges",title:"Apples & Oranges"},{instance:"averybobbycam",title:"Avery, Bobby, & Cam"},{instance:"bear",title:"Bear"},{instance:"hats",title:"Hats"}];function ne(e){var t=e.name,n="light-instance-data-".concat(t),r=JSON.parse(sessionStorage.getItem(n)),a=Object(b.useState)(r.work),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)(r.workPosition||i.length),u=Object(j.a)(o,2),l=u[0],h=u[1],d=r.size,v=d.cols,g=d.rows,m=r.beginstate,p=r.neighborType,x=Object(b.useState)("saved"),O=Object(j.a)(x,2),w=O[0],y=J("light",t,O[1]),k=Object(b.useCallback)((function(e){var t=function(e){var t=e.row,n=e.col;switch(p){case"x":return[{row:t-1,col:n-1},{row:t+1,col:n+1},{row:t+1,col:n-1},{row:t-1,col:n+1},{row:t,col:n}];default:return[{row:t-1,col:n},{row:t+1,col:n},{row:t,col:n-1},{row:t,col:n+1},{row:t,col:n}]}}(e);return(i.slice(0,l).filter((function(e){return t.some(re(e))})).length+(m.some(re(e))?1:0))%2>0}),[i,l,m]),q=Object(b.useCallback)((function(){for(var e=0;e<g;e++)for(var t=0;t<v;t++)if(!k({row:e,col:t}))return!1;return!0}),[v,g,k]),S=function(e){var t=[].concat(Object(N.a)(i.slice(0,l)),[e]);h(l+1),s(t),y(t)},z=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n[1],c="light-square ".concat(k({row:e,col:a})?"active":"inactive");return Object(f.jsx)("div",{className:c,onClick:function(){return S({row:e,col:a})}})},M=function(e){h(e);var t=JSON.parse(sessionStorage.getItem(n));t.workPosition=e,sessionStorage.setItem(n,JSON.stringify(t))};return B("light",t,q),E("light",t),Object(f.jsxs)("div",{className:"light-puzzle-container",children:[Object(f.jsxs)("div",{className:"moves-indicator",children:["Moves: ",Object(f.jsx)("span",{className:"moves",children:l})]}),Object(f.jsx)("div",{className:"light-grid",cols:v,rows:g,children:new Array(g).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Object(f.jsx)("div",{className:"grid-row",children:Array(v).fill(null).map(z.bind(null,r))})}))}),Object(f.jsxs)("div",{className:"controller",children:[Object(f.jsx)(ce,{jump:function(){return M(0)},isactive:l>0}),Object(f.jsx)(ae,{step:function(){return M(Math.max(l-1,0))},isactive:l>0}),Object(f.jsx)(ie,{step:function(){return M(Math.min(l+1,i.length))},isactive:l<i.length}),Object(f.jsx)(se,{jump:function(){return M(i.length)},isactive:l<i.length})]}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===w?"Saving...":"error"===w?"An error occurred while saving.":"saved"===w?"Saved.":" "})]})}function re(e){var t=e.row,n=e.col;return function(e){return e.col===n&&e.row===t}}function ae(e){var t=e.step,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"step back nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1344 576v896q0 26-19 45t-45 19-45-19l-448-448q-19-19-19-45t19-45l448-448q19-19 45-19t45 19 19 45z"})})}function ce(e){var t=e.jump,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"jump back nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1811 269q19-19 32-13t13 32v1472q0  26-13 32t-32-13l-710-710q-8-9-13-19v710q0  26-13 32t-32-13l-710-710q-19-19-19-45t19-45l710-710q19-19  32-13t13 32v710q5-11 13-19z"})})}function ie(e){var t=e.step,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"step forward nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1280 1024q0 26-19 45l-448 448q-19 19-45  19t-45-19-19-45v-896q0-26 19-45t45-19 45  19l448 448q19 19 19 45z"})})}function se(e){var t=e.jump,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"jump forward nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M237 1779q-19 19-32 13t-13-32v-1472q0-26 13-32t32 13l710  710q8 8 13 19v-710q0-26 13-32t32 13l710 710q19 19 19 45t-19  45l-710 710q-19 19-32 13t-13-32v-710q-5 10-13 19z"})})}te.fetchCompletionStatus=W;var oe={size:{cols:1,rows:1},beginstate:[],work:[]},ue={size:{cols:3,rows:1},beginstate:[],work:[]},le={size:{cols:3,rows:3},beginstate:[],work:[]},he={size:{cols:3,rows:3},beginstate:[],work:[],neighborType:"x"};function de(e){var t=e.history;return Object(f.jsxs)("div",{className:"light-instructions",children:[Object(f.jsxs)("h2",{children:["Light Puzzle Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"steps",children:[Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"Here, the goal is to light up all the squares. Clicking a square toggles it on and off (clicking a dark square will light it up and clicking a lit square will make it dark again)."}),Object(f.jsx)(fe,{data:oe})]}),Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"However, when you click on a square the same thing will happen to squares that are next to it."}),Object(f.jsx)(fe,{data:ue})]}),Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"You can use the navigation buttons at the bottom of the puzzle to go back and forward through the moves you've made."}),Object(f.jsx)(fe,{data:ue,showNav:!0})]}),Object(f.jsx)("div",{className:"step",children:Object(f.jsx)("p",{className:"emphasized",children:"It can be tempting to click randomly, but take it slow! Try to light up all the squares using as few moves as you can!"})})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/light")},children:"Try It!"})]})}function je(e){var t=e.history;return Object(f.jsxs)("div",{className:"light-instructions",children:[Object(f.jsxs)("h2",{children:["Light Puzzle-X Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"steps",children:[Object(f.jsx)("div",{className:"step",children:Object(f.jsx)("p",{children:'Puzzles marked with an "X" work a little differently. Clicking a square will light up squares the diagonal to it instead of ones directly next to it.'})}),Object(f.jsxs)("div",{className:"examples",children:[Object(f.jsxs)("div",{className:"example",children:["Normal Puzzle",Object(f.jsx)(fe,{data:le})]}),Object(f.jsxs)("div",{className:"example",children:["Puzzle-X",Object(f.jsx)(fe,{data:he})]})]})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/light/smallx")},children:"Try It!"})]})}function fe(e){var t=e.data,n=e.showNav,r=Object(b.useState)(t.work),a=Object(j.a)(r,2),c=a[0],i=a[1],s=Object(b.useState)(0),o=Object(j.a)(s,2),u=o[0],l=o[1],h=t.size,d=h.cols,v=h.rows,g=t.beginstate,m=t.neighborType,p=function(e){var t=e.row,n=e.col;switch(m){case"x":return[{row:t-1,col:n-1},{row:t+1,col:n+1},{row:t+1,col:n-1},{row:t-1,col:n+1},{row:t,col:n}];default:return[{row:t-1,col:n},{row:t+1,col:n},{row:t,col:n-1},{row:t,col:n+1},{row:t,col:n}]}},x=function(e){l(e)},O=function(e){i([].concat(Object(N.a)(c.slice(0,u)),[e])),l(u+1)},w=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n[1],i=p({row:e,col:a}),s=c.slice(0,u).filter((function(e){return i.some(be(e))})),o=(s.length+(g.some(be({row:e,col:a}))?1:0))%2>0,l="light-square ".concat(o?"active":"inactive");return Object(f.jsx)("div",{className:l,onClick:function(){return O({row:e,col:a})}})};return Object(f.jsxs)("div",{className:"light-puzzle-container",children:[Object(f.jsx)("div",{className:"light-grid",cols:d,rows:v,children:new Array(v).fill(null).map((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Object(f.jsx)("div",{className:"grid-row",children:Array(d).fill(null).map(w.bind(null,r))})}))}),n?Object(f.jsxs)("div",{className:"controller",children:[Object(f.jsx)(ce,{jump:function(){return x(0)},isactive:u>0}),Object(f.jsx)(ae,{step:function(){return x(Math.max(u-1,0))},isactive:u>0}),Object(f.jsx)(ie,{step:function(){return x(Math.min(u+1,c.length))},isactive:u<c.length}),Object(f.jsx)(se,{jump:function(){return x(c.length)},isactive:u<c.length})]}):null]})}function be(e){var t=e.row,n=e.col;return function(e){return e.col===n&&e.row===t}}var ve=Array.from({length:5},(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return r+1}));var ge="Light Puzzles",me="light";function pe(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all light puzzles here"})}var xe=[{instance:"instructions",title:"Instructions"},{instance:"small",title:"Small"},{instance:"medium",title:"Medium"},{instance:"large",title:"Large"},{instance:"instructionsx",title:"Instructions-X"},{instance:"smallx",title:"Small-X"},{instance:"mediumx",title:"Medium-X"},{instance:"largex",title:"Large-X"}];xe.fetchCompletionStatus=function(){var e=Object(d.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(t),xe.forEach((function(e){var t=e.instance;if(!t.match("instructions")){for(var n=!0,r=1;r<=5;r++){var a="light-instance-data-".concat(t).concat(r),c=JSON.parse(sessionStorage.getItem(a));c&&c.completed||(n=!1)}sessionStorage.setItem("light-instance-data-".concat(t),JSON.stringify({completed:n}))}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Oe=function(e){var t=e.history,n=e.name,r=e.match,a=Object(b.useState)(1),c=Object(j.a)(a,2),i=c[0],s=c[1];return Object(b.useEffect)((function(){n.match("instructions")||t.push("/light/".concat(n,"/").concat(i))}),[i,n,t]),"instructionsx"===n?Object(f.jsx)(je,{history:t}):Object(f.jsxs)("div",{className:"light category-container ".concat(n),children:[Object(f.jsxs)(x.d,{children:[ve.map(function(e,t){return Object(f.jsx)(x.b,{path:"".concat(e.url,"/").concat(t),render:function(e){return Object(f.jsx)(ne,Object(u.a)(Object(u.a)({},e),{},{name:"".concat(n).concat(t)}))}},t)}.bind(null,r)),Object(f.jsx)(x.b,{render:function(){return t.push("/light")}})]}),Object(f.jsxs)("div",{className:"selector-container",children:[Object(f.jsx)("button",{className:"previous selector  ".concat(1===i?"inactive":"active"),onClick:function(){return s(Math.max(i-1,1))},children:"Prev"}),ve.map((function(e){return Object(f.jsx)("button",{onClick:function(){return s(e)},className:"instance selector ".concat(e===i?"selected":"")},"selector-".concat(e))})),Object(f.jsx)("button",{className:"next selector  ".concat(i===ve.length?"inactive":"active"),onClick:function(){return s(Math.min(i+1,5))},children:"Next"})]})]})};function we(e){return{x:e.y,y:-e.x}}function ye(e,t){var n=Object(j.a)(t,2),r=n[0],a=n[1],c=we({x:a.x-r.x,y:a.y-r.y}),i=[r,Se(r,c)],s=[a,Se(a,c)];return qe(e,i)+qe(e,s)<=ke(r,a)+1?qe(e,[r,a]):Math.min(ke(e,r),ke(e,a))}function ke(e,t){return Me(Ne(e,t))}function qe(e,t){var n=Object(j.a)(t,2),r=n[0],a=Ne(r,n[1]),c=Ne(e,r);return Math.abs(a.x*c.y-a.y*c.x)/Me(a)}function Ne(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Se(e,t){return{x:e.x+t.x,y:e.y+t.y}}function ze(e,t){return{x:e.x*t,y:e.y*t}}function Me(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function Ce(e,t){return e.x*t.x+e.y*t.y}function Ie(e){var t=Object(b.useRef)(null),n=e.puzzleData,r=e.sticks,a=e.setSticks,c=e.updateWork,i=n.height,s=n.width,o=n.selectionProximity,u=n.startingConfiguration,l=n.stickLength,h=n.stickWidth,d=Object(b.useState)(null),v=Object(j.a)(d,2),g=v[0],m=v[1],p=Object(b.useState)(null),x=Object(j.a)(p,2),O=x[0],w=x[1],y=Object(b.useState)({x:0,y:0}),k=Object(j.a)(y,2),q=k[0],S=k[1],z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e.target.getBoundingClientRect(),r={x:(t.clientX-n.left)/n.width*s,y:(t.clientY-n.top)/n.height*i};return S(r),r},M=Object(b.useCallback)((function(e){if(!O)return r.flatMap((function(e){return e})).reduce((function(t,n){var r=ke(n,e),a=t?ke(e,t):1/0;return r<Math.min(a,o)?n:t}),null)}),[r,o,O]),C=Object(b.useCallback)((function(e){return O||r.reduce((function(t,n){return ye(e,n)<Math.min(t?ye(e,t):1/0,o)?n:t}),null)}),[r,o,O]),I=function(e){var t=M(e);if(t){var n=r.find((function(e){return e.includes(t)}));return m(t),w(n),t}},T=function(e){var t=C(e);return w(t),t},P=function(e){if(g){var t=O.find((function(e){return e!==g})),n=Ne(e,t),c=ze(n,l/Me(n));g.x=t.x+c.x,g.y=t.y+c.y,a(Object(N.a)(r))}},L=function(){w(null),m(null)},E=function(){c(),L()},B=Object(b.useCallback)((function(e){e.clearRect(0,0,s,i),e.beginPath(),e.lineWidth=h,e.lineCap="round",e.stroke();var t,n=Object(A.a)(r);try{for(n.s();!(t=n.n()).done;){var a=Object(j.a)(t.value,2),c=a[0],o=a[1];e.beginPath(),e.lineWidth=h,e.strokeStyle="#0b032d",e.moveTo(c.x,c.y),e.lineTo(o.x,o.y),e.stroke()}}catch(v){n.e(v)}finally{n.f()}var u=M(q)||g;if(u)e.beginPath(),e.arc(u.x,u.y,2*h,0,2*Math.PI),e.fillStyle="#7354f455",e.shadowBlur=h,e.shadowColor=e.fillStyle,e.fill(),e.shadowBlur=0,e.shadowColor="#0b032d";else{var l=C(q)||O;if(l){var d=Object(j.a)(l,2),f=d[0],b=d[1];e.beginPath(),e.strokeStyle="#7354f455",e.lineWidth=3*h,e.moveTo(f.x,f.y),e.lineTo(b.x,b.y),e.stroke()}}}),[r,i,s,u,q,M,C,g,O,h]);return Object(b.useEffect)((function(){var e=t.current.getContext("2d");B(e)}),[B]),Object(b.useEffect)((function(){var e=function(e){return O||g?e.preventDefault():null};return document.body.addEventListener("touchmove",e,{passive:!1}),function(){return document.body.removeEventListener("touchmove",e)}}),[O,g]),Object(f.jsx)("canvas",{id:"mandelbrot-canvas",ref:t,height:i,width:s,onTouchStart:function(e){var t=e.touches[0],n=z(e,t);I(n)||T(n)},onTouchEnd:E,onTouchMove:function(e){var t=e.touches[0],n=z(e,t);P(n),function(e){if(!g&&O){var t=ze(Se.apply(void 0,Object(N.a)(O)),.5),n={x:e.x-t.x,y:e.y-t.y};for(var c in O){var i=O[c];O[c]=Se(i,n)}a(Object(N.a)(r))}}(n)},onMouseDown:function(e){var t;t=z(e),I(t)||T(t)},onMouseUp:E,onMouseLeave:L,onMouseMove:function(e){var t=z(e);P(t),function(e){if(!g&&O){var t=e.target.getBoundingClientRect();for(var n in O){var c=O[n];O[n]={x:c.x+e.movementX*s/t.width,y:c.y+e.movementY*i/t.height}}a(Object(N.a)(r))}}(e)},className:C(q)||M(q)?"selecting":""})}function Te(e){var t=e.name,n="matchstick-instance-data-".concat(t),r=JSON.parse(sessionStorage.getItem(n)),a=Object(b.useState)(r.work),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)("saved"),l=Object(j.a)(o,2),h=l[0],d=J("matchstick",t,l[1]),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return d(e)};return E("matchstick",t),Object(f.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:r.description}),Object(f.jsxs)("div",{className:"matchstick display-container",children:[Object(f.jsx)(Pe,{reset:function(){var e=r.startingConfiguration.map((function(e){return e.map((function(e){return Object(u.a)({},e)}))}));s(e),v(e)},isactive:!0}),Object(f.jsx)(Ie,{puzzleData:r,sticks:i,setSticks:s,updateWork:v}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===h?"Saving...":"error"===h?"An error occurred while saving.":"saved"===h?"Saved.":" "})]})]})}function Pe(e){var t=e.reset,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Le={height:1024,width:1024,selectionProximity:25,stickLength:400,stickWidth:12,startingConfiguration:[[{x:100,y:312},{x:100,y:712}],[{x:130,y:312},{x:130,y:712}],[{x:160,y:312},{x:160,y:712}]]};function Ae(e){var t=e.history;return Object(f.jsxs)("div",{className:"matchstick-instructions",children:[Object(f.jsxs)("h2",{children:["Matchstick Puzzle Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"instructions",children:[Object(f.jsx)("p",{children:"Before you try the puzzles, see if you can make a triangle using the sticks below."}),Object(f.jsx)("p",{children:"You can move sticks by dragging them from their middle and rotate sticks by dragging them from either end."}),Object(f.jsx)("p",{children:"The button in the upper left resets the sticks to their original position."}),Object(f.jsx)(Ee,{data:Le}),Object(f.jsx)("p",{children:"These puzzle can be really tricky, good luck!"})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/matchstick")},children:"Try It!"})]})}function Ee(e){var t=e.data,n=Object(b.useState)(t.startingConfiguration),r=Object(j.a)(n,2),a=r[0],c=r[1],i=function(){var e=t.startingConfiguration.map((function(e){return e.map((function(e){return Object(u.a)({},e)}))}));c(e)};return Object(b.useEffect)(i,[]),Object(f.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:t.description}),Object(f.jsxs)("div",{className:"matchstick display-container",children:[Object(f.jsx)(Be,{reset:i,isactive:!0}),Object(f.jsx)(Ie,{puzzleData:t,sticks:a,setSticks:c,updateWork:function(){}})]})]})}function Be(e){var t=e.reset,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Je="Matchstick Puzzles",We="matchstick";function Fe(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all matchtick puzzles here"})}var Ue=[{instance:"instructions",title:"Instructions"},{instance:"fish",title:"Fish"},{instance:"squares1",title:"Squares 1"},{instance:"squares2",title:"Squares 2"},{instance:"squares3",title:"Squares 3"},{instance:"donkey",title:"Donkey"},{instance:"squares4",title:"Squares 4"},{instance:"squares5",title:"Squares 5"}];function De(e){var t=e.unitLength,n=e.startingCenter,r=e.work,a=Object(u.a)(Object(u.a)({},function(e){var t=e.startingCenter,n=e.unitLength;return{largeTriangle1:{center:{x:t.x,y:t.y+2*n*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)},angle:-Math.PI/2},largeTriangle2:{center:{x:t.x-2*n*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8),y:t.y},angle:0},mediumTriangle:{center:{x:t.x+n*(Math.sqrt(2)-Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)),y:t.y-n*(Math.sqrt(2)-Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8))},angle:-Math.PI/4},square:{center:{x:t.x,y:t.y-n*Math.sqrt(2)/2},angle:0},parallelogram:{center:{x:t.x+n*(3*Math.sqrt(2)/4),y:t.y+n*(Math.sqrt(2)/4)},angle:-Math.PI/4},smallTriangle1:{center:{x:t.x-n*Math.sqrt(2)/2,y:t.y-n*(Math.sqrt(2)/2+Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8))},angle:Math.PI/2},smallTriangle2:{center:{x:t.x+n*(Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)),y:t.y},angle:Math.PI}}}({unitLength:t,startingCenter:n})),r);return[Xe(Object(u.a)(Object(u.a)({},a.largeTriangle1),{},{color:"#7d99ed",size:2*t,name:"largeTriangle1"})),Xe(Object(u.a)(Object(u.a)({},a.largeTriangle2),{},{color:"#70c2df",size:2*t,name:"largeTriangle2"})),Xe(Object(u.a)(Object(u.a)({},a.mediumTriangle),{},{color:"#9edfe5",size:t*Math.sqrt(2),name:"mediumTriangle"})),He(Object(u.a)(Object(u.a)({},a.square),{},{color:"#c3ebef",size:t})),Ye(Object(u.a)(Object(u.a)({},a.parallelogram),{},{color:"#3f2fa5",size:t})),Xe(Object(u.a)(Object(u.a)({},a.smallTriangle1),{},{color:"#6146d9",size:t,name:"smallTriangle1"})),Xe(Object(u.a)(Object(u.a)({},a.smallTriangle2),{},{color:"#7e6cfb",size:t,name:"smallTriangle2"}))]}function Re(e){var t=e.shape,n=e.relAngle,r=e.distanceFromCenter,a={relAngle:n};return Object.defineProperty(a,"x",{get:function(){return t.center.x+Math.cos(t.angle+n)*r}}),Object.defineProperty(a,"y",{get:function(){return t.center.y+Math.sin(t.angle+n)*r}}),a}function Xe(e){var t=e.size,n=e.center,r=e.angle,a=e.color,c=e.name,i=t*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8),s=t*Math.sin(Math.PI/4)/Math.sin(5*Math.PI/8),o={center:n,color:a,angle:r,name:c};return o.vertices=[{relAngle:0,distanceFromCenter:i},{relAngle:5*Math.PI/8,distanceFromCenter:s},{relAngle:-5*Math.PI/8,distanceFromCenter:s}].map((function(e){return Re(Object(u.a)(Object(u.a)({},e),{},{shape:o}))})),o}function He(e){var t=e.size,n=e.center,r=e.angle,a=e.color,c=t*Math.sqrt(2)/2,i={center:n,color:a,angle:r,name:"square"};return i.vertices=Array.from({length:4},(function(e,t){return Re({shape:i,distanceFromCenter:c,relAngle:t*Math.PI/2})})),i}function Ye(e){var t=e.size,n=e.center,r=e.angle,a=e.color,c=t/2,i=t/Math.sin(Math.atan2(2,1)),s={center:n,color:a,angle:r,name:"parallelogram"};return s.vertices=[{relAngle:0,distanceFromCenter:c},{relAngle:-Math.atan2(2,1),distanceFromCenter:i},{relAngle:Math.PI,distanceFromCenter:c},{relAngle:-(Math.PI+Math.atan2(2,1)),distanceFromCenter:i}].map((function(e){return Re(Object(u.a)(Object(u.a)({},e),{},{shape:s}))})),s}Ue.fetchCompletionStatus=W;var Ge=n(78);function _e(e){var t=e.ctx,n=e.width,r=e.height,a=e.objective,c=e.shapes,i=e.vertexSelection,s=e.shapeSelection,o=e.objectiveCenter,l=e.unitLength;t.clearRect(0,0,n,r),a.forEach(Ze.bind(null,t,o,l)),c.forEach(Ke.bind(null,t)),i?(t.beginPath(),t.arc(i.x,i.y,6,0,2*Math.PI),t.fillStyle="#c1b4fa",t.shadowBlur=4,t.shadowColor=t.fillStyle,t.fill(),t.shadowBlur=0,t.shadowColor="#0b032d"):s&&Ke(t,Object(u.a)(Object(u.a)({},s),{},{color:"#c1b4fa"}))}function Ke(e,t){var n=Object(Ge.a)(t.vertices),r=n[0],a=n.slice(1),c=t.color;t.center;e.beginPath(),e.moveTo(r.x,r.y),a.forEach((function(t){return e.lineTo(t.x,t.y)})),e.closePath(),e.fillStyle=c,e.fill()}function Ze(e,t,n,r){var a=r.map((function(e){var r=Object(j.a)(e,2),a=r[0],c=r[1];return[t.x+n*a,t.y+n*c]}));e.beginPath();var c=Object(Ge.a)(a),i=c[0],s=c.slice(1);e.moveTo.apply(e,Object(N.a)(i)),s.forEach((function(t){return e.lineTo.apply(e,Object(N.a)(t))})),e.closePath(),e.fillStyle="#0b032d",e.fill()}function $e(e){var t=e.data,n=e.work,r=e.updateWork,a=e.saveStatus,c=Object(b.useRef)(null),i=Object(b.useMemo)((function(){return t}),[t]),s=i.height,o=i.width,u=i.selectionProximity,l=i.unitLength,h=i.objective,d=i.startingCenter,v=i.objectiveCenter,g=Object(b.useState)(null),m=Object(j.a)(g,2),p=m[0],x=m[1],O=Object(b.useState)(null),w=Object(j.a)(O,2),y=w[0],k=w[1],q=Object(b.useState)({x:0,y:0}),S=Object(j.a)(q,2),z=S[0],M=S[1],C=Object(b.useState)(De({unitLength:l,startingCenter:d,work:n})),I=Object(j.a)(C,2),T=I[0],P=I[1],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e.target.getBoundingClientRect(),r={x:(t.clientX-n.left)/n.width*o,y:(t.clientY-n.top)/n.height*s};return M(r),r},A=Object(b.useCallback)((function(e){if(!y){var t=T.flatMap((function(e){return e.vertices}));return p||t.reduce((function(t,n){var r=ke(n,e),a=t?ke(e,t):1/0;return r<Math.min(a,u)?n:t}),null)}}),[T,p,y,u]),E=Object(b.useCallback)((function(e){return y||T.reduce((function(t,n){return function(e){var t=e.shape,n=t.vertices,r=t.center,a=e.point;return n.every((function(e,t,n){var c=n[(t+1)%n.length],i=[{x:e.x,y:e.y},{x:c.x,y:c.y}];return function(e,t,n){var r=Object(j.a)(n,2),a=r[0],c=r[1],i=Ne(e,a),s=Ne(t,a),o=we(Ne(c,a));return Ce(i,o)*Ce(s,o)>=0}(a,r,i)}))}({shape:n,point:e})?n:t}),null)}),[T,y]),B=function(e){(function(e){var t=A(e);if(t){var n=T.find((function(e){return e.vertices.includes(t)}));return x(t),k(n),t}})(e)||function(e){var t=E(e);k(t)}(e)},J=function(e){if(p){var t=y.vertices,n=y.center,r=t.indexOf(p),a=t[(r+1)%t.length],c={x:a.x,y:a.y},i=Ne(p,a),s=Ne(t[0],n),o=Math.atan2(i.y,i.x)-Math.atan2(s.y,s.x),u=Ne(e,a),l=Math.atan2(u.y,u.x);y.angle=l-o,y.center=Se(c,Ne(n,a)),P(Object(N.a)(T))}},W=function(){k(null),x(null)},F=function(){!function(){if(p){var e=y.vertices,t=y.center,n=e.indexOf(p),r=e[(n+1)%e.length],a={x:r.x,y:r.y},c=Ne(p,r),i=Ne(e[0],t),s=Math.atan2(c.y,c.x)-Math.atan2(i.y,i.x),o=Math.atan2(c.y,c.x),u=Array.from({length:25},(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[1];return Math.PI*r/12-Math.PI})).find((function(e){return Math.abs(o-e)<=Math.PI/23}));y.angle=u-s,y.center=Se(a,Ne(t,r)),P(Object(N.a)(T))}}(),r(T),W()};return Object(b.useEffect)((function(){_e({ctx:c.current.getContext("2d"),shapeSelection:y||E(z),vertexSelection:p||A(z),height:s,width:o,shapes:T,objective:h,objectiveCenter:v,unitLength:l})}),[y,E,p,A,s,o,T,h,z,v,l]),Object(b.useEffect)((function(){var e=function(e){return y||p?e.preventDefault():null},t=document.querySelector("canvas");return t.addEventListener("touchmove",e,{passive:!1}),function(){return t.removeEventListener("touchmove",e)}}),[p,y]),Object(f.jsxs)("div",{className:"tangram display-container",children:[Object(f.jsx)(Qe,{reset:function(){var e=De({unitLength:l,startingCenter:d,work:{}});P(e),r(e)},isactive:!0}),Object(f.jsx)("canvas",{id:"tangram-canvas",ref:c,height:s,width:o,onMouseDown:function(e){B(L(e))},onMouseUp:F,onMouseLeave:W,onMouseMove:function(e){var t=L(e);J(t),function(e){if(!p&&y){var t=e.target.getBoundingClientRect(),n=y.center;y.center={x:n.x+e.movementX*o/t.width,y:n.y+e.movementY*s/t.height},P(Object(N.a)(T))}}(e)},onTouchStart:function(e){var t=e.touches[0],n=L(e,t);B(n)},onTouchEnd:F,onTouchMove:function(e){var t=e.touches[0],n=L(e,t);J(n),function(e){!p&&y&&(y.center=e,P(Object(N.a)(T)))}(n)},className:E(z)||A(z)?"selecting":""}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===a?"Saving...":"error"===a?"An error occurred while saving.":"saved"===a?"Saved.":" "})]})}function Qe(e){var t=e.reset,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}function Ve(e){var t=e.name,n="tangram-instance-data-".concat(t),r=JSON.parse(sessionStorage.getItem(n)),a=Object(b.useState)(r.work),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)("saved"),l=Object(j.a)(o,2),h=l[0],d=J("tangram",t,l[1]);return E("tangram",t),Object(f.jsxs)("div",{className:"tangram puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:r.description}),Object(f.jsx)($e,{data:r,work:i,updateWork:function(e){var t,n=Object(u.a)({},i),r=Object(A.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,c=a.name,o=a.center,l=a.angle;n[c]={center:o,angle:l}}}catch(h){r.e(h)}finally{r.f()}s(n),d(n)},saveStatus:h})]})}Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2);var et={objective:[[[-Math.sqrt(2),-Math.sqrt(2)],[Math.sqrt(2),-Math.sqrt(2)],[Math.sqrt(2),Math.sqrt(2)],[-Math.sqrt(2),Math.sqrt(2)]]],startingCenter:{x:768,y:384},unitLength:100,height:768,width:1024,selectionProximity:20,objectiveCenter:{x:300,y:384},work:{}};function tt(e){var t=e.history;return Object(f.jsxs)("div",{className:"tangram tangram-instructions",children:[Object(f.jsxs)("h2",{children:["Tangram Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsx)("p",{className:"instructions",children:"In tangram puzzles you will be given the same pieces each time and be tasked with making different shapes out of them! To move a piece, simply drag it. And to rotate a piece drag one of its corners."}),Object(f.jsx)($e,{data:et,work:{},updateWork:function(){}}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/tangram")},children:"Try It!"})]})}var nt="Tangrams",rt="tangram";function at(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all tangram puzzles here"})}var ct=[{instance:"instructions",title:"Instructions"},{instance:"triangle",title:"Triangle"},{instance:"rectangle",title:"Rectangle"},{instance:"trapezoid",title:"Trapezoid"},{instance:"twotriangles",title:"Two Triangles"},{instance:"twosquares",title:"Two Squares"},{instance:"cube",title:"Cube"},{instance:"hexagon",title:"Hexagon"},{instance:"incompleterectangle",title:"Incomplete Rectangle"}];ct.fetchCompletionStatus=W;function it(e){var t=Object(b.useRef)(null),n=e.sticks,r=e.name,a=Object(b.useCallback)((function(e){e.clearRect(0,0,1024,1024),e.beginPath(),e.lineWidth=6,e.lineCap="round",e.stroke();var t,r=Object(A.a)(n);try{for(r.s();!(t=r.n()).done;){var a=Object(j.a)(t.value,2),c=a[0],i=a[1];e.beginPath(),e.lineWidth=6,e.strokeStyle="#0b032d",e.moveTo(c.x,c.y),e.lineTo(i.x,i.y),e.stroke()}}catch(s){r.e(s)}finally{r.f()}}),[n]);return Object(b.useEffect)((function(){var e=t.current.getContext("2d");a(e)}),[a]),Object(f.jsxs)("div",{className:"stick-image-guess",children:[Object(f.jsx)("div",{className:"name",children:st(r.first)+" "+st(r.last)}),Object(f.jsx)("canvas",{style:{height:256,width:256},id:"mandelbrot-canvas",ref:t,height:1024,width:1024})]})}function st(e){return e.replace(/^.|\W./g,(function(e){return e.toUpperCase()}))}var ot={height:1024,width:1024,selectionProximity:25,stickLength:300,stickWidth:6,startingConfiguration:[[{x:900,y:100},{x:900,y:400}],[{x:885,y:100},{x:885,y:400}],[{x:870,y:100},{x:870,y:400}],[{x:855,y:100},{x:855,y:400}],[{x:840,y:100},{x:840,y:400}],[{x:825,y:100},{x:825,y:400}],[{x:810,y:100},{x:810,y:400}],[{x:795,y:100},{x:795,y:400}]]};function ut(){var e=Object(b.useContext)(k).user.student,t=e.first,n=e.last,r="".concat(t,"_").concat(n),a="stick-image-instance-data-workspace";sessionStorage.getItem(a)||sessionStorage.setItem(a,JSON.stringify({work:ot.startingConfiguration}));var c=JSON.parse(sessionStorage.getItem(a)),i=Object(b.useState)(c.work),s=Object(j.a)(i,2),o=s[0],l=s[1],v=Object(b.useState)({}),g=Object(j.a)(v,2),m=g[0],p=g[1],x=Object(b.useState)(!1),O=Object(j.a)(x,2),w=O[0],y=O[1],q=Object(b.useState)([]),N=Object(j.a)(q,2),S=N[0],z=N[1],M=Object(b.useState)(!1),C=Object(j.a)(M,2),I=C[0],T=C[1],P=J("stick-image","workspace",(function(){})),L=function(e,t){var n=Object(b.useContext)(k).user.student,r=n.first,a=n.last;return function(n,c){var i="".concat("https://secret-plains-66902.herokuapp.com/api","/students/").concat(n,"/")+"".concat(e,"/").concat(t,"/messages");fetch(i,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"".concat(r,"_").concat(a),message:c})})}}("stick-image","workspace"),A=function(e,t,n){var r=Object(b.useContext)(k).user.token,a="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/")+"".concat(e,"/").concat(t,"/messages");return Object(d.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(a,{method:"GET",headers:{authorization:r}});case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:c=e.sent,n(c),e.next=11;break;case 10:throw new Error("HTTP error, status = ".concat(t.status));case 11:case"end":return e.stop()}}),e)})))}("stick-image","workspace",p),B=function(e,t){var n=Object(b.useContext)(k).user.student,r=n.first,a=n.last;return function(){var n=Object(d.a)(h.a.mark((function n(c){var i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="".concat("https://secret-plains-66902.herokuapp.com/api","/students/").concat(c,"/")+"".concat(e,"/").concat(t,"/messages"),n.next=3,fetch(i,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"".concat(r,"_").concat(a)})});case 3:n.sent;case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}("stick-image","workspace"),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return P(e)};E("stick-image","workspace"),Object(b.useEffect)((function(){A();var e=setInterval(A,2e3);return function(){return clearInterval(e)}}),[]),Object(b.useEffect)((function(){var e=m.instructor,t=(null===e||void 0===e?void 0:e.designer)||!1;if(y(t),t){var n=e.guessers.map((function(e){return m[e]})).filter((function(e){return!!e}));z(n)}}),[m]);return Object(f.jsxs)("div",{className:"matchstick puzzle-container stick-image-instance",children:[Object(f.jsxs)("div",{className:"matchstick display-container"+(I?" inactive":""),children:[Object(f.jsx)(lt,{reset:function(){var e=ot.startingConfiguration.map((function(e){return e.map((function(e){return Object(u.a)({},e)}))}));L("kabirdas_henry",{updated:new Date}),l(e),W(e)},isactive:!0}),Object(f.jsx)(Ie,{puzzleData:ot,sticks:o,setSticks:l,updateWork:W})]}),w?w===r?Object(f.jsxs)("div",{className:"guess-container",children:[Object(f.jsx)("h3",{children:"Guesses"}),S.map((function(e){var t=e.name,n=e.sticks;return Object(f.jsx)(it,{name:t,sticks:n})}))]}):Object(f.jsx)("button",{className:"toggle-guess"+(I?" guessing":""),onClick:function(){I?(B(w),T(!1)):(T(!0),L(w,{name:{first:t,last:n},sticks:o}))},children:I?"Keep Working":"Check"}):null]})}function lt(e){var t=e.reset,n=e.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:t,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}function ht(e){var t=e.history;return Object(f.jsxs)("div",{className:"matchstick-instructions",children:[Object(f.jsxs)("h2",{children:["Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"instructions",children:[Object(f.jsx)("p",{children:"Choose someone in the group to be the designer and let the instructor know."}),Object(f.jsx)("p",{children:"The designer creates a stick design that is hidden from the rest of the team but as they make the design they explain what it looks like so that the rest of the team can make a copy of the same design."}),Object(f.jsx)("p",{children:"Team members can ask questions about the design at any time and the designer answers in as helpful a way as possible."}),Object(f.jsx)("p",{children:'When a team member thinks they have a completed design, they ask the designer to check by pressing the "check" button. If their design is correct they can then aid the designer in answering questions.'})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return t.push("/stick-image/play")},children:"Try It!"})]})}var dt="stick-image",jt=[a,r,c,i,s],ft=[o],bt="/",vt=function(){return Object(f.jsx)("div",{className:"potd-preview",children:"Check back later!"})};function gt(e){var t=e.history,n=Object(b.useContext)(k).user.token;return Object(f.jsxs)("div",{className:"dashboard-container",children:[Object(f.jsx)(mt,{history:t,token:n}),Object(f.jsxs)("div",{className:"puzzle-list-container",children:[Object(f.jsx)("h2",{children:"Individual Work"}),Object(f.jsx)("ul",{children:jt.map(pt.bind(null,t,n))})]})]})}function mt(e){var t=vt;return Object(f.jsxs)("div",{className:"potd-container",onClick:function(){return e.history.push(bt,{token:e.token})},children:[Object(f.jsx)("h2",{children:"Puzzle of the Day"}),Object(f.jsx)(t,{})]})}function pt(e,t,n){return Object(f.jsxs)("li",{onClick:function(){return e.push("/".concat(n.id),{token:t})},children:[Object(f.jsx)("h3",{children:n.name}),n.ListPreview()]},n.id)}function xt(e){var t=e.history,n=e.instanceList,r=e.title,a=e.puzzleType,c=Object(b.useContext)(k).user,i=Object(b.useState)(!1),s=Object(j.a)(i,2),o=s[0],u=s[1];Object(b.useEffect)((function(){o||Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fetchCompletionStatus(c);case 2:u(!0);case 3:case"end":return e.stop()}}),e)})))()}),[o,n,c]);return Object(f.jsxs)("div",{className:"instance-list-container",children:[Object(f.jsx)("h2",{children:r}),Object(f.jsx)("ul",{style:{"grid-template-rows":"repeat(".concat(Math.ceil(n.length/2),", 1fr)")},children:n.map(function(e,t){var n,r=t.instance,c=t.title,i="".concat(a,"-instance-data-").concat(r),s=JSON.parse(sessionStorage.getItem(i)),o=!!s&&s.completed;return Object(f.jsx)("li",{onClick:function(){return e.push("/".concat(a,"/").concat(r))},className:o?"completed":"",children:Object(f.jsx)("h3",{children:(n=c,n.replace(/^./,(function(e){return e.toUpperCase()})))})},r)}.bind(null,t))})]})}function Ot(e){var t=e.match,n=e.Instance,r=e.Instructions,a=e.id,c=e.name,i=e.instanceList;return Object(f.jsxs)(x.d,{children:[Object(f.jsx)(x.b,{path:"".concat(t.url,"/instructions"),render:function(e){return Object(f.jsx)(r,Object(u.a)({},e))}},"instructions"),i.map(function(e,t){var r=t.instance;return Object(f.jsx)(x.b,{path:"".concat(e.url,"/").concat(r),render:function(e){return Object(f.jsx)(n,Object(u.a)(Object(u.a)({},e),{},{name:r}))}},r)}.bind(null,t)),Object(f.jsx)(x.b,{exact:!0,path:t.url,render:function(e){return Object(f.jsx)(xt,Object(u.a)(Object(u.a)({},e),{},{instanceList:i,title:c,puzzleType:a}))}})]})}n(264);var wt=Object(O.a)(),yt=Object(f.jsx)("path",{d:"M1792 1024v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z"});function kt(){var e=JSON.parse(sessionStorage.getItem("mcub-student-user")),t=Object(b.useState)(e),n=Object(j.a)(t,2),r=n[0],a=n[1],c={user:r,setUser:a};return Object(b.useEffect)((function(){r&&Object(d.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(r);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),[r]),Object(f.jsx)(p.a,{history:wt,basename:"/",children:Object(f.jsx)(k.Provider,{value:c,children:r?Object(f.jsxs)("div",{children:[Object(f.jsxs)("nav",{className:"main-nav",children:[Object(f.jsx)(Nt,{student:r.student,setUser:a}),Object(f.jsxs)(x.d,{children:[Object(f.jsx)(x.b,{exact:!0,path:"/"}),Object(f.jsx)(x.b,{component:qt})]})]}),Object(f.jsxs)(x.d,{children:[jt.map(St),ft.map(zt),Object(f.jsx)(x.b,{path:"/login",component:q}),Object(f.jsx)(x.b,{path:"/",component:gt})]})]}):Object(f.jsxs)(x.d,{children:[Object(f.jsx)(x.b,{path:"/login",component:q}),Object(f.jsx)(x.b,{path:"/",children:Object(f.jsx)(x.a,{to:"/login"})})]})})})}function qt(e){var t=e.history,n=window.location.href.match(/#(.*)\/[^/]+$/)[1];return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:function(){return t.push(n)},className:"back-button",children:yt})}function Nt(e){var t=e.student,n=e.setUser;return Object(f.jsxs)("div",{className:"profile-bar",children:[Object(f.jsxs)("span",{className:"student-name",children:[Mt(t.first)," ",Mt(t.last)]}),Object(f.jsx)("button",{onClick:function(){n(null),sessionStorage.removeItem("mcub-student-user")},className:"log-out",children:"Log Out"})]})}function St(e){var t=e.Instance,n=e.id,r=e.Instructions,a=e.name,c=e.instanceList;return Object(f.jsx)(x.b,{path:"/".concat(e.id),render:function(e){return Object(f.jsx)(Ot,Object(u.a)(Object(u.a)({},e),{},{Instance:t,id:n,Instructions:r,name:a,instanceList:c}))}},e.id)}function zt(e){var t=e.id,n=e.Instructions,r=e.Instance;return Object(f.jsxs)(x.b,{path:"/".concat(t),children:[Object(f.jsx)(x.b,{path:"/".concat(t,"/play"),component:r},t),Object(f.jsx)(x.b,{exact:!0,path:"/".concat(t),component:n},"".concat(t,"-instructions"))]},t)}function Mt(e){return e.replace(/^.|\W./g,(function(e){return e.toUpperCase()}))}m.a.render(Object(f.jsx)(v.a.StrictMode,{children:Object(f.jsx)(kt,{})}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.e68f0813.chunk.js.map