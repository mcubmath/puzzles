(this["webpackJsonpstudent-app"]=this["webpackJsonpstudent-app"]||[]).push([[0],{151:function(t,e){},153:function(t,e){},167:function(t,e){},169:function(t,e){},197:function(t,e){},199:function(t,e){},200:function(t,e){},206:function(t,e){},208:function(t,e){},226:function(t,e){},228:function(t,e){},240:function(t,e){},243:function(t,e){},264:function(t,e,n){},265:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"name",(function(){return Y})),n.d(r,"id",(function(){return _})),n.d(r,"ListPreview",(function(){return K})),n.d(r,"Instructions",(function(){return I})),n.d(r,"Instance",(function(){return D})),n.d(r,"instanceList",(function(){return Z}));var a={};n.r(a),n.d(a,"name",(function(){return Q})),n.d(a,"id",(function(){return V})),n.d(a,"ListPreview",(function(){return tt})),n.d(a,"Instance",(function(){return $})),n.d(a,"instanceList",(function(){return et}));var c={};n.r(c),n.d(c,"name",(function(){return gt})),n.d(c,"id",(function(){return mt})),n.d(c,"ListPreview",(function(){return pt})),n.d(c,"instanceList",(function(){return xt})),n.d(c,"Instance",(function(){return Ot})),n.d(c,"Instructions",(function(){return dt}));var i={};n.r(i),n.d(i,"name",(function(){return Jt})),n.d(i,"id",(function(){return Wt})),n.d(i,"ListPreview",(function(){return Ft})),n.d(i,"Instance",(function(){return Tt})),n.d(i,"instanceList",(function(){return Ut})),n.d(i,"Instructions",(function(){return At}));var s={};n.r(s),n.d(s,"name",(function(){return ne})),n.d(s,"id",(function(){return re})),n.d(s,"ListPreview",(function(){return ae})),n.d(s,"Instance",(function(){return Vt})),n.d(s,"instanceList",(function(){return ce})),n.d(s,"Instructions",(function(){return ee}));var o={};n.r(o),n.d(o,"id",(function(){return de})),n.d(o,"Instance",(function(){return ue})),n.d(o,"Instructions",(function(){return he}));var u=n(4),l=n(7),h=n.n(l),d=n(13),j=n(2),f=n(0),b=n(1),v=n.n(b),g=n(138),m=n.n(g),p=n(48),x=n(9),O=n(141),w=n(139),y=n.n(w),k=v.a.createContext({user:null,setUser:function(){}});function q(t){var e=Object(b.useState)(),n=Object(j.a)(e,2),r=n[0],a=n[1],c=Object(b.useState)(),i=Object(j.a)(c,2),s=i[0],o=i[1],u=Object(b.useState)(!1),l=Object(j.a)(u,2),v=l[0],g=l[1],m=Object(b.useState)(!1),p=Object(j.a)(m,2),x=p[0],O=p[1],w=Object(b.useContext)(k).setUser,q=function(t,e){t((function(t){var n=e.target.value.replace(/[^a-zA-Z\-']/,"");return n.length<20?n:t}))},N=Object(b.useCallback)(function(){var e=Object(d.a)(h.a.mark((function e(n){var a,c,i,o,u,l,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&s){e.next=3;break}return O("missing name"),e.abrupt("return");case 3:return g(n?"create":"login"),a={first:r,last:s},c="".concat("https://secret-plains-66902.herokuapp.com/api","/students")+(n?"":"/login"),e.prev=6,e.next=9,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:if(i=e.sent,g(!1),!i.ok){e.next=29;break}return O(!1),e.prev=13,e.next=16,i.json();case 16:o=e.sent.token,u=y.a.decode(o),l=u.student,d={token:o,student:l},sessionStorage.setItem("mcub-student-user",JSON.stringify(d)),w(d),t.history.push("/"),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(13),console.log(e.t0);case 27:e.next=31;break;case 29:O(i.status),console.log("HTTP error, status = "+i.status);case 31:e.next=38;break;case 33:e.prev=33,e.t1=e.catch(6),g(!1),O(500),console.log(e.t1);case 38:case"end":return e.stop()}}),e,null,[[6,33],[13,24]])})));return function(t){return e.apply(this,arguments)}}(),[r,s,t.history,w]),S=Object(b.useCallback)((function(t){"Enter"===t.key&&N(!1)}),[N]);return Object(b.useEffect)((function(){return window.addEventListener("keydown",S),function(){return window.removeEventListener("keydown",S)}}),[S]),Object(f.jsx)("div",{className:"login-container",children:Object(f.jsxs)("div",{className:"login-window",children:[v?Object(f.jsx)("div",{className:"fetching-indicator",children:"create"===v?"Creating new user...":"Logging in..."}):null,x?Object(f.jsx)("p",{className:"login-error",children:404===x?"User not found. Please try again or create a new user.":403===x?"User already exists.":"missing name"===x?"Please enter both your first and last name.":"An error occurred, please try again."}):null,Object(f.jsxs)("div",{className:"name-container first",children:[Object(f.jsx)("label",{htmlFor:"firstname",children:"First Name:"}),Object(f.jsx)("input",{type:"text",name:"firstname",id:"firstname",value:r,onChange:q.bind(null,a)})]}),Object(f.jsxs)("div",{className:"name-container last",children:[Object(f.jsx)("label",{htmlFor:"lastname",children:"Last Name:"}),Object(f.jsx)("input",{type:"text",name:"lastname",id:"lastname",value:s,onChange:q.bind(null,o)})]}),Object(f.jsx)("button",{className:"create-student",onClick:function(){return N(!0)},children:"Create"}),Object(f.jsx)("button",{className:"login-student",onClick:function(){return N(!1)},children:"Log-In"})]})})}var N=n(8),S={"-":"-","+":"+","*":"x","/":"\xf7"},z={size:4,work:Array(16).fill(null).map((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[1],a=Math.floor(r/4),c=r%4,i=(c+a)%4+1;return{row:a,col:c,value:i}})),cages:[]},M={size:4,work:[{col:0,row:0,value:1},{col:1,row:0,value:2},{col:2,row:0,value:3},{col:3,row:0,value:4},{col:0,row:2,value:2},{col:0,row:3,value:4},{col:1,row:3,value:1},{col:3,row:3,value:3},{col:2,row:1,value:2},{col:2,row:2,value:4}],cages:[{squares:[{col:0,row:0},{col:1,row:0}],operation:"+",result:"3"},{squares:[{col:2,row:0},{col:3,row:0}],operation:"-",result:"1"},{squares:[{col:3,row:3}],operation:"",result:"3"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"*",result:"8"},{squares:[{col:2,row:1},{col:2,row:2}],operation:"/",result:"2"}]},C={size:4,work:Array(16).fill(null).map((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[1],a=[3,2,4,1,2,1,3,4,4,3,1,2,1,4,2,3],c=Math.floor(r/4),i=r%4,s=a[r];return{row:c,col:i,value:s}})),cages:[{squares:[{col:0,row:0},{col:0,row:1}],operation:"+",result:"5"},{squares:[{col:0,row:2},{col:0,row:3},{col:1,row:3}],operation:"+",result:"9"},{squares:[{col:1,row:0},{col:1,row:1},{col:2,row:0}],operation:"-",result:"1"},{squares:[{col:1,row:2},{col:2,row:2}],operation:"+",result:"4"},{squares:[{col:2,row:1},{col:3,row:0},{col:3,row:1}],operation:"-",result:"0"},{squares:[{col:2,row:3},{col:3,row:2},{col:3,row:3}],operation:"+",result:"7"}]};function I(t){var e=t.history;return Object(f.jsxs)("div",{className:"calcudoku-instructions",children:[Object(f.jsxs)("h2",{children:["Calcudoku Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsx)("p",{children:"The goal of each puzzle is to fill the grid using only certain digits \u2013\u2013 1 through 4 for a 4\xd74 grid, 1 through 5 for a 5\xd75, etc. \u2013\u2013 so that no digit appears more than once in any row or any column."}),Object(f.jsx)(T,{data:z}),Object(f.jsx)("p",{children:"Additionally, the grid is divided into heavily outlined groups of squares called \u201ccages\u201d. Each cage has a target number and an operation in its upper left corner. The numbers when the numbers in the cage are combined using the cage\u2019s operation they must equal the target number."}),Object(f.jsx)(T,{data:M}),Object(f.jsx)("p",{children:'Digits may be repeated within a cage, as long as they are not in the same row or column. No operation is relevant for a single-cell cage: placing the "target" in the cell is the only possibility.'}),Object(f.jsx)(T,{data:C}),Object(f.jsxs)("p",{children:["Be careful that you know for sure that a number"," ",Object(f.jsx)("strong",{children:"has"})," to go in a square before you put it there. Making a mistake early can cause trouble later on. Use lots of process of elimination!"]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return e.push("/calcudoku")},children:"Try It!"})]})}function T(t){var e=t.data,n=e.size,r=Object(b.useState)(function(t){var e=t.size,n=t.cages,r=t.work;return Array(Math.pow(e,2)).fill(null).map((function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];var i=a[1],s=Math.floor(i/e),o=i%e,u=L({col:s,row:o}),l=r.find(u),h=l?l.value:null,d=n.find((function(t){return t.squares.find(u)})),j=P({col:s,row:o},d);if(!d)return{col:s,row:o,value:h,neighbors:j};var f=d.squares.every((function(t){return t.col>=s&&(t.row>=o||t.col>s)})),b=f?d.result:null,v=f?S[d.operation]:null;return{col:s,row:o,value:h,neighbors:j,result:b,operation:v}}))}(e)),a=Object(j.a)(r,2),c=a[0],i=(a[1],Object(b.useState)(null)),s=Object(j.a)(i,2),o=s[0],u=s[1];return Object(f.jsx)("div",{children:c?Object(f.jsx)("div",{className:"puzzle-container instructions",size:n,children:Object(f.jsx)("div",{className:"grid-container",size:n,children:c.map((function(t){var e="calcudoku-square "+t.neighbors.join(" ")+(t===o?" active":"");return Object(f.jsxs)("div",{className:e,onClick:function(){return u(t)},children:[Object(f.jsxs)("div",{className:"cage-indicator",children:[t.result,t.operation]}),Object(f.jsx)("input",{type:"number",value:t.value||"",disabled:!0})]})}))})}):null})}function P(t,e){var n=[],r={"n-up":{col:t.col-1,row:t.row},"n-down":{col:t.col+1,row:t.row},"n-left":{col:t.col,row:t.row-1},"n-right":{col:t.col,row:t.row+1}};if(!e)return Object.keys(r);for(var a in r){var c=L(r[a]);e.squares.find(c)&&n.push(a)}return n}function L(t){var e=t.col,n=t.row;return function(t){return t.col===e&&t.row===n}}var A=n(23);function E(t,e){var n=Object(b.useContext)(k).user.token;Object(b.useEffect)((function(){var r="".concat("https://secret-plains-66902.herokuapp.com/api","/activepuzzle");return Object(d.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(r,{method:"PUT",headers:{"Content-Type":"application/json",authorization:n},body:JSON.stringify({puzzleName:t,puzzleId:e})});case 2:case"end":return a.stop()}}),a)})))(),function(){fetch(r,{method:"DELETE",headers:{authorization:n}})}}),[n,e,t])}function B(t,e,n){var r=Object(b.useContext)(k).user.token,a="".concat(t,"-instance-data-").concat(e),c="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/")+"".concat(t,"/").concat(e);Object(b.useEffect)((function(){var t=JSON.parse(sessionStorage.getItem(a));t.completed||n()&&(fetch("".concat(c,"/completed"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:r},body:JSON.stringify({completed:!0})}),t.completed=!0,sessionStorage.setItem(a,JSON.stringify(t)))}),[a,n,c,r])}function J(t,e,n){var r=Object(b.useContext)(k).user.token,a="".concat(t,"-instance-data-").concat(e),c="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/")+"".concat(t,"/").concat(e);return function(){var t=Object(d.a)(h.a.mark((function t(e){var i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n("saving"),t.next=3,fetch(c,{method:"PUT",headers:{"Content-Type":"application/json",authorization:r},body:JSON.stringify({puzzleData:e})});case 3:i=t.sent,(s=JSON.parse(sessionStorage.getItem(a))).work=e,s.workPosition=e.length,sessionStorage.setItem(a,JSON.stringify(s)),i.ok?n("saved"):n("error");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function W(t){return F.apply(this,arguments)}function F(){return(F=Object(d.a)(h.a.mark((function t(e){var n,r,a,c,i,s,o,u,l,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.token,r="".concat("https://secret-plains-66902.herokuapp.com/api","/data"),t.next=4,fetch(r,{method:"GET",headers:{authorization:n}});case 4:if(!(a=t.sent).ok){t.next=12;break}return t.next=8,a.json();case 8:for(i in c=t.sent){s=Object(A.a)(c[i]);try{for(s.s();!(o=s.n()).done;)u=o.value,l=u.puzzleId,d="".concat(i,"-instance-data-").concat(l),sessionStorage.setItem(d,JSON.stringify(u))}catch(h){s.e(h)}finally{s.f()}}t.next=13;break;case 12:console.log("HTTP error, status = ".concat(a.status));case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var U={"-":"-","+":"+","*":"x","/":"\xf7"};function D(t){var e=t.name,n="calcudoku-instance-data-".concat(e),r=JSON.parse(sessionStorage.getItem(n)),a=r.size,c=r.cages,i=Object(b.useState)(function(t){var e=t.size,n=t.cages,r=t.work;return Array(Math.pow(e,2)).fill(null).map((function(){for(var t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];var i=a[1],s=Math.floor(i/e),o=i%e,u=X({col:s,row:o}),l=r.find(u),h=n.find((function(t){return t.squares.find(u)})),d=R({col:s,row:o},h),j=h.squares.every((function(t){return t.col>=s&&(t.row>=o||t.col>s)})),f=j?h.result:null,b=j?U[h.operation]:null,v=l?l.value:null;return{col:s,row:o,value:v,neighbors:d,result:f,operation:b}}))}(r)),s=Object(j.a)(i,2),o=s[0],u=s[1],l=Object(b.useState)(null),h=Object(j.a)(l,2),d=h[0],v=h[1],g=Object(b.useState)("saved"),m=Object(j.a)(g,2),p=m[0],x=m[1],O=J("calcudoku",e,x),w=Object(b.useCallback)((function(){var t=c.reduce((function(t,e){return G(o,e)||t}),!1),e=o.reduce((function(t,e){return H(o,e)||t}),!1);return!t&&!e}),[o,c]),y=function(){var t=o.map((function(t){return{col:t.col,row:t.row,value:t.value}}));O(t)},k=function(t){var e=t.key;if(d){if(!isNaN(e)&&1<=e&&e<=a)d.value=e;else{var n=d.col,r=d.row;switch(e){case"Backspace":case"Delete":d.value="";break;case"ArrowUp":return void v(o.find(X({col:n-1,row:r}))||d);case"ArrowDown":return void v(o.find(X({col:n+1,row:r}))||d);case"ArrowLeft":return void v(o.find(X({col:n,row:r-1}))||d);case"ArrowRight":return void v(o.find(X({col:n,row:r+1}))||d);default:return}}u(Object(N.a)(o)),y()}else["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e)&&v(o.find(X({col:0,row:0})))},q=function(t){return Object(f.jsx)("button",{className:"number-select",onClick:function(){d.value=t,u(Object(N.a)(o)),y()},children:t},"num".concat(t))};return E("calcudoku",e),B("calcudoku",e,w),Object(b.useEffect)((function(){return window.addEventListener("keydown",k),function(){return window.removeEventListener("keydown",k)}})),Object(f.jsx)("div",{children:o?Object(f.jsxs)("div",{className:"puzzle-container",size:a,children:[Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===p?"Saving...":"error"===p?"An error occurred while saving.":"saved"===p?"Saved.":" "}),Object(f.jsx)("div",{className:"grid-container",size:a,children:o.map((function(t){var n=X(t),r=t.result&&c?c.find((function(t){return t.squares.find(n)})):null,a="calcudoku-square "+t.neighbors.join(" ")+(t===d?" active":"")+(e.match("4x4beginner1")&&H(o,t)?" duplicate":"")+((e.match("4x4beginner1")||e.match("4x4beginner2"))&&r&&G(o,r)?" cageError":"");return Object(f.jsxs)("div",{className:a,onClick:function(){return v(t)},children:[Object(f.jsxs)("div",{className:"cage-indicator",children:[t.result,t.operation]}),Object(f.jsx)("input",{type:"number",value:t.value||"",disabled:!0}),Object(f.jsx)("div",{className:"selector"})]})}))}),Object(f.jsx)("div",{className:"number-select-container",children:new Array(a).fill(null).map((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[1];return q(r+1)}))})]}):Object(f.jsx)("h2",{className:"loading-indicator",children:"Loading..."})})}function R(t,e){var n=[],r={"n-up":{col:t.col-1,row:t.row},"n-down":{col:t.col+1,row:t.row},"n-left":{col:t.col,row:t.row-1},"n-right":{col:t.col,row:t.row+1}};for(var a in r){var c=X(r[a]);e.squares.find(c)&&n.push(a)}return n}function X(t){var e=t.col,n=t.row;return function(t){return t.col===e&&t.row===n}}function H(t,e){var n=e.col,r=e.row,a=e.value;return t.some((function(t){return(t.row===r||t.col===n)&&!(t.row===r&&t.col===n)&&t.value===a}))}function G(t,e){var n,r,a=e.squares,c=e.operation,i=e.result,s=a.map((function(e){return+t.find(X(e)).value}));if(s.some((function(t){return!t})))return!1;switch(c){case"+":r=0,n=function(t){return function(t,e){return t+e}};break;case"-":r=0,n=function(t){return function(e,n,r){return r===t?e+n:e-n}};break;case"*":r=1,n=function(t){return function(t,e){return t*e}};break;case"/":r=1,n=function(t){return function(e,n,r){return r===t?e*n:e/n}};break;default:r=0,n=function(t){return function(t,e){return e}}}return!s.map((function(t,e,a){return a.reduce(n(e),r)})).includes(+i)}var Y="Calcudokus",_="calcudoku";function K(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all calcudokus here"})}var Z=[{instance:"instructions",title:"Instructions"},{instance:"4x4beginner1",title:"4x4 Beginner 1"},{instance:"4x4beginner2",title:"4x4 Beginner 2"},{instance:"4x4beginner3",title:"4x4 Beginner 3"},{instance:"4x4beginner4",title:"4x4 Beginner 4"},{instance:"4x4beginner5",title:"4x4 Beginner 5"},{instance:"4x4intermediate1",title:"4x4 Intermediate 1"},{instance:"4x4intermediate2",title:"4x4 Intermediate 2"},{instance:"4x4intermediate3",title:"4x4 Intermediate 3"},{instance:"4x4intermediate4",title:"4x4 Intermediate 4"},{instance:"4x4expert1",title:"4x4 Expert 1"},{instance:"4x4expert2",title:"4x4 Expert 2"},{instance:"4x4expert3",title:"4x4 Expert 3"},{instance:"5x5beginner1",title:"5x5 Beginner 1"},{instance:"5x5beginner2",title:"5x5 Beginner 2"},{instance:"5x5intermediate1",title:"5x5 Intermediate 1"}];function $(t){var e=t.name,n="logic-instance-data-".concat(e),r=JSON.parse(sessionStorage.getItem(n)),a=r.description,c=Object(b.useState)(r.work),i=Object(j.a)(c,2),s=i[0],o=i[1],u=Object(b.useState)("saved"),l=Object(j.a)(u,2),h=l[0],d=l[1],v=Object(b.useState)(30),g=Object(j.a)(v,2),m=g[0],p=g[1],x=Object(b.useRef)(!0),O=J("logic",e,d),w=Object(b.useCallback)((function(){return O(s)}),[s]);return E("logic",e),Object(b.useEffect)((function(){if(x.current)return x.current=!1;d(null);var e=t.history.listen(w),n=setTimeout(w,3e3);return function(){clearTimeout(n),e()}}),[w,t.history,d,x]),Object(b.useEffect)((function(){var t=function(){"saved"!==h&&w()};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}),[w,h]),Object(b.useEffect)((function(){0===m&&(p(30),h||w())}),[m,w,h]),Object(b.useEffect)((function(){var t=setInterval((function(){return p((function(t){return t-1}))}),1e3);return function(){return clearInterval(t)}}),[p]),a?Object(f.jsxs)("div",{className:"logic instance",children:[Object(f.jsx)("p",{className:"puzzle-description",children:a}),Object(f.jsx)("textarea",{className:"work",onChange:function(t){o(t.target.value)},value:s,placeholder:"Enter your solution or any notes here!"}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===h?"Saving...":"error"===h?"An error occurred while saving.":"saved"===h?"Saved.":" "})]}):Object(f.jsx)("h2",{className:"loading-indicator",children:"Loading..."})}Z.fetchCompletionStatus=W;var Q="Logic Puzzles",V="logic";function tt(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all logic puzzles here"})}var et=[{instance:"wolfgoatcabbage",title:"Wolf, Goat, Cabbage"},{instance:"torch",title:"Bridge & Torch"},{instance:"goldboxes",title:"Find the Gold"},{instance:"10coins",title:"10 Coins"},{instance:"socks",title:"Cathy's Socks"},{instance:"childrenboat",title:"2 Adults, 2 Children, a Boat, and a River"},{instance:"applesandoranges",title:"Apples & Oranges"},{instance:"averybobbycam",title:"Avery, Bobby, & Cam"},{instance:"bear",title:"Bear"},{instance:"hats",title:"Hats"}];function nt(t){var e=t.name,n="light-instance-data-".concat(e),r=JSON.parse(sessionStorage.getItem(n)),a=Object(b.useState)(r.work),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)(r.workPosition||i.length),u=Object(j.a)(o,2),l=u[0],h=u[1],d=r.size,v=d.cols,g=d.rows,m=r.beginstate,p=r.neighborType,x=Object(b.useState)("saved"),O=Object(j.a)(x,2),w=O[0],y=J("light",e,O[1]),k=Object(b.useCallback)((function(t){var e=function(t){var e=t.row,n=t.col;switch(p){case"x":return[{row:e-1,col:n-1},{row:e+1,col:n+1},{row:e+1,col:n-1},{row:e-1,col:n+1},{row:e,col:n}];default:return[{row:e-1,col:n},{row:e+1,col:n},{row:e,col:n-1},{row:e,col:n+1},{row:e,col:n}]}}(t);return(i.slice(0,l).filter((function(t){return e.some(rt(t))})).length+(m.some(rt(t))?1:0))%2>0}),[i,l,m]),q=Object(b.useCallback)((function(){for(var t=0;t<g;t++)for(var e=0;e<v;e++)if(!k({row:t,col:e}))return!1;return!0}),[v,g,k]),S=function(t){var e=[].concat(Object(N.a)(i.slice(0,l)),[t]);h(l+1),s(e),y(e)},z=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=n[1],c="light-square ".concat(k({row:t,col:a})?"active":"inactive");return Object(f.jsx)("div",{className:c,onClick:function(){return S({row:t,col:a})}})},M=function(t){h(t);var e=JSON.parse(sessionStorage.getItem(n));e.workPosition=t,sessionStorage.setItem(n,JSON.stringify(e))};return B("light",e,q),E("light",e),Object(f.jsxs)("div",{className:"light-puzzle-container",children:[Object(f.jsxs)("div",{className:"moves-indicator",children:["Moves: ",Object(f.jsx)("span",{className:"moves",children:l})]}),Object(f.jsx)("div",{className:"light-grid",cols:v,rows:g,children:new Array(g).fill(null).map((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[1];return Object(f.jsx)("div",{className:"grid-row",children:Array(v).fill(null).map(z.bind(null,r))})}))}),Object(f.jsxs)("div",{className:"controller",children:[Object(f.jsx)(ct,{jump:function(){return M(0)},isactive:l>0}),Object(f.jsx)(at,{step:function(){return M(Math.max(l-1,0))},isactive:l>0}),Object(f.jsx)(it,{step:function(){return M(Math.min(l+1,i.length))},isactive:l<i.length}),Object(f.jsx)(st,{jump:function(){return M(i.length)},isactive:l<i.length})]}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===w?"Saving...":"error"===w?"An error occurred while saving.":"saved"===w?"Saved.":" "})]})}function rt(t){var e=t.row,n=t.col;return function(t){return t.col===n&&t.row===e}}function at(t){var e=t.step,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"step back nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1344 576v896q0 26-19 45t-45 19-45-19l-448-448q-19-19-19-45t19-45l448-448q19-19 45-19t45 19 19 45z"})})}function ct(t){var e=t.jump,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"jump back nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1811 269q19-19 32-13t13 32v1472q0  26-13 32t-32-13l-710-710q-8-9-13-19v710q0  26-13 32t-32-13l-710-710q-19-19-19-45t19-45l710-710q19-19  32-13t13 32v710q5-11 13-19z"})})}function it(t){var e=t.step,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"step forward nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1280 1024q0 26-19 45l-448 448q-19 19-45  19t-45-19-19-45v-896q0-26 19-45t45-19 45  19l448 448q19 19 19 45z"})})}function st(t){var e=t.jump,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"jump forward nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M237 1779q-19 19-32 13t-13-32v-1472q0-26 13-32t32 13l710  710q8 8 13 19v-710q0-26 13-32t32 13l710 710q19 19 19 45t-19  45l-710 710q-19 19-32 13t-13-32v-710q-5 10-13 19z"})})}et.fetchCompletionStatus=W;var ot={size:{cols:1,rows:1},beginstate:[],work:[]},ut={size:{cols:3,rows:1},beginstate:[],work:[]},lt={size:{cols:3,rows:3},beginstate:[],work:[]},ht={size:{cols:3,rows:3},beginstate:[],work:[],neighborType:"x"};function dt(t){var e=t.history;return Object(f.jsxs)("div",{className:"light-instructions",children:[Object(f.jsxs)("h2",{children:["Light Puzzle Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"steps",children:[Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"Here, the goal is to light up all the squares. Clicking a square toggles it on and off (clicking a dark square will light it up and clicking a lit square will make it dark again)."}),Object(f.jsx)(ft,{data:ot})]}),Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"However, when you click on a square the same thing will happen to squares that are next to it."}),Object(f.jsx)(ft,{data:ut})]}),Object(f.jsxs)("div",{className:"step",children:[Object(f.jsx)("p",{children:"You can use the navigation buttons at the bottom of the puzzle to go back and forward through the moves you've made."}),Object(f.jsx)(ft,{data:ut,showNav:!0})]}),Object(f.jsx)("div",{className:"step",children:Object(f.jsx)("p",{className:"emphasized",children:"It can be tempting to click randomly, but take it slow! Try to light up all the squares using as few moves as you can!"})})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return e.push("/light")},children:"Try It!"})]})}function jt(t){var e=t.history;return Object(f.jsxs)("div",{className:"light-instructions",children:[Object(f.jsxs)("h2",{children:["Light Puzzle-X Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"steps",children:[Object(f.jsx)("div",{className:"step",children:Object(f.jsx)("p",{children:'Puzzles marked with an "X" work a little differently. Clicking a square will light up squares the diagonal to it instead of ones directly next to it.'})}),Object(f.jsxs)("div",{className:"examples",children:[Object(f.jsxs)("div",{className:"example",children:["Normal Puzzle",Object(f.jsx)(ft,{data:lt})]}),Object(f.jsxs)("div",{className:"example",children:["Puzzle-X",Object(f.jsx)(ft,{data:ht})]})]})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return e.push("/light/smallx")},children:"Try It!"})]})}function ft(t){var e=t.data,n=t.showNav,r=Object(b.useState)(e.work),a=Object(j.a)(r,2),c=a[0],i=a[1],s=Object(b.useState)(0),o=Object(j.a)(s,2),u=o[0],l=o[1],h=e.size,d=h.cols,v=h.rows,g=e.beginstate,m=e.neighborType,p=function(t){var e=t.row,n=t.col;switch(m){case"x":return[{row:e-1,col:n-1},{row:e+1,col:n+1},{row:e+1,col:n-1},{row:e-1,col:n+1},{row:e,col:n}];default:return[{row:e-1,col:n},{row:e+1,col:n},{row:e,col:n-1},{row:e,col:n+1},{row:e,col:n}]}},x=function(t){l(t)},O=function(t){i([].concat(Object(N.a)(c.slice(0,u)),[t])),l(u+1)},w=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var a=n[1],i=p({row:t,col:a}),s=c.slice(0,u).filter((function(t){return i.some(bt(t))})),o=(s.length+(g.some(bt({row:t,col:a}))?1:0))%2>0,l="light-square ".concat(o?"active":"inactive");return Object(f.jsx)("div",{className:l,onClick:function(){return O({row:t,col:a})}})};return Object(f.jsxs)("div",{className:"light-puzzle-container",children:[Object(f.jsx)("div",{className:"light-grid",cols:d,rows:v,children:new Array(v).fill(null).map((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[1];return Object(f.jsx)("div",{className:"grid-row",children:Array(d).fill(null).map(w.bind(null,r))})}))}),n?Object(f.jsxs)("div",{className:"controller",children:[Object(f.jsx)(ct,{jump:function(){return x(0)},isactive:u>0}),Object(f.jsx)(at,{step:function(){return x(Math.max(u-1,0))},isactive:u>0}),Object(f.jsx)(it,{step:function(){return x(Math.min(u+1,c.length))},isactive:u<c.length}),Object(f.jsx)(st,{jump:function(){return x(c.length)},isactive:u<c.length})]}):null]})}function bt(t){var e=t.row,n=t.col;return function(t){return t.col===n&&t.row===e}}var vt=Array.from({length:5},(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[1];return r+1}));var gt="Light Puzzles",mt="light";function pt(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all light puzzles here"})}var xt=[{instance:"instructions",title:"Instructions"},{instance:"small",title:"Small"},{instance:"medium",title:"Medium"},{instance:"large",title:"Large"},{instance:"instructionsx",title:"Instructions-X"},{instance:"smallx",title:"Small-X"},{instance:"mediumx",title:"Medium-X"},{instance:"largex",title:"Large-X"}];xt.fetchCompletionStatus=function(){var t=Object(d.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W(e),xt.forEach((function(t){var e=t.instance;if(!e.match("instructions")){for(var n=!0,r=1;r<=5;r++){var a="light-instance-data-".concat(e).concat(r),c=JSON.parse(sessionStorage.getItem(a));c&&c.completed||(n=!1)}sessionStorage.setItem("light-instance-data-".concat(e),JSON.stringify({completed:n}))}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var Ot=function(t){var e=t.history,n=t.name,r=t.match,a=Object(b.useState)(1),c=Object(j.a)(a,2),i=c[0],s=c[1];return Object(b.useEffect)((function(){n.match("instructions")||e.push("/light/".concat(n,"/").concat(i))}),[i,n,e]),"instructionsx"===n?Object(f.jsx)(jt,{history:e}):Object(f.jsxs)("div",{className:"light category-container ".concat(n),children:[Object(f.jsxs)(x.d,{children:[vt.map(function(t,e){return Object(f.jsx)(x.b,{path:"".concat(t.url,"/").concat(e),render:function(t){return Object(f.jsx)(nt,Object(u.a)(Object(u.a)({},t),{},{name:"".concat(n).concat(e)}))}},e)}.bind(null,r)),Object(f.jsx)(x.b,{render:function(){return e.push("/light")}})]}),Object(f.jsxs)("div",{className:"selector-container",children:[Object(f.jsx)("button",{className:"previous selector  ".concat(1===i?"inactive":"active"),onClick:function(){return s(Math.max(i-1,1))},children:"Prev"}),vt.map((function(t){return Object(f.jsx)("button",{onClick:function(){return s(t)},className:"instance selector ".concat(t===i?"selected":"")},"selector-".concat(t))})),Object(f.jsx)("button",{className:"next selector  ".concat(i===vt.length?"inactive":"active"),onClick:function(){return s(Math.min(i+1,5))},children:"Next"})]})]})};function wt(t){return{x:t.y,y:-t.x}}function yt(t,e){var n=Object(j.a)(e,2),r=n[0],a=n[1],c=wt({x:a.x-r.x,y:a.y-r.y}),i=[r,St(r,c)],s=[a,St(a,c)];return qt(t,i)+qt(t,s)<=kt(r,a)+1?qt(t,[r,a]):Math.min(kt(t,r),kt(t,a))}function kt(t,e){return Mt(Nt(t,e))}function qt(t,e){var n=Object(j.a)(e,2),r=n[0],a=Nt(r,n[1]),c=Nt(t,r);return Math.abs(a.x*c.y-a.y*c.x)/Mt(a)}function Nt(t,e){return{x:t.x-e.x,y:t.y-e.y}}function St(t,e){return{x:t.x+e.x,y:t.y+e.y}}function zt(t,e){return{x:t.x*e,y:t.y*e}}function Mt(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function Ct(t,e){return t.x*e.x+t.y*e.y}function It(t){var e=Object(b.useRef)(null),n=t.puzzleData,r=t.sticks,a=t.setSticks,c=t.updateWork,i=n.height,s=n.width,o=n.selectionProximity,u=n.startingConfiguration,l=n.stickLength,h=n.stickWidth,d=Object(b.useState)(null),v=Object(j.a)(d,2),g=v[0],m=v[1],p=Object(b.useState)(null),x=Object(j.a)(p,2),O=x[0],w=x[1],y=Object(b.useState)({x:0,y:0}),k=Object(j.a)(y,2),q=k[0],S=k[1],z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=t.target.getBoundingClientRect(),r={x:(e.clientX-n.left)/n.width*s,y:(e.clientY-n.top)/n.height*i};return S(r),r},M=Object(b.useCallback)((function(t){if(!O)return r.flatMap((function(t){return t})).reduce((function(e,n){var r=kt(n,t),a=e?kt(t,e):1/0;return r<Math.min(a,o)?n:e}),null)}),[r,o,O]),C=Object(b.useCallback)((function(t){return O||r.reduce((function(e,n){return yt(t,n)<Math.min(e?yt(t,e):1/0,o)?n:e}),null)}),[r,o,O]),I=function(t){var e=M(t);if(e){var n=r.find((function(t){return t.includes(e)}));return m(e),w(n),e}},T=function(t){var e=C(t);return w(e),e},P=function(t){if(g){var e=O.find((function(t){return t!==g})),n=Nt(t,e),c=zt(n,l/Mt(n));g.x=e.x+c.x,g.y=e.y+c.y,a(Object(N.a)(r))}},L=function(){w(null),m(null)},E=function(){c(),L()},B=Object(b.useCallback)((function(t){t.clearRect(0,0,s,i),t.beginPath(),t.lineWidth=h,t.lineCap="round",t.stroke();var e,n=Object(A.a)(r);try{for(n.s();!(e=n.n()).done;){var a=Object(j.a)(e.value,2),c=a[0],o=a[1];t.beginPath(),t.lineWidth=h,t.strokeStyle="#0b032d",t.moveTo(c.x,c.y),t.lineTo(o.x,o.y),t.stroke()}}catch(v){n.e(v)}finally{n.f()}var u=M(q)||g;if(u)t.beginPath(),t.arc(u.x,u.y,2*h,0,2*Math.PI),t.fillStyle="#7354f455",t.shadowBlur=h,t.shadowColor=t.fillStyle,t.fill(),t.shadowBlur=0,t.shadowColor="#0b032d";else{var l=C(q)||O;if(l){var d=Object(j.a)(l,2),f=d[0],b=d[1];t.beginPath(),t.strokeStyle="#7354f455",t.lineWidth=3*h,t.moveTo(f.x,f.y),t.lineTo(b.x,b.y),t.stroke()}}}),[r,i,s,u,q,M,C,g,O,h]);return Object(b.useEffect)((function(){var t=e.current.getContext("2d");B(t)}),[B]),Object(b.useEffect)((function(){var t=function(t){return O||g?t.preventDefault():null};return document.body.addEventListener("touchmove",t,{passive:!1}),function(){return document.body.removeEventListener("touchmove",t)}}),[O,g]),Object(f.jsx)("canvas",{id:"mandelbrot-canvas",ref:e,height:i,width:s,onTouchStart:function(t){var e=t.touches[0],n=z(t,e);I(n)||T(n)},onTouchEnd:E,onTouchMove:function(t){var e=t.touches[0],n=z(t,e);P(n),function(t){if(!g&&O){var e=zt(St.apply(void 0,Object(N.a)(O)),.5),n={x:t.x-e.x,y:t.y-e.y};for(var c in O){var i=O[c];O[c]=St(i,n)}a(Object(N.a)(r))}}(n)},onMouseDown:function(t){var e;e=z(t),I(e)||T(e)},onMouseUp:E,onMouseLeave:L,onMouseMove:function(t){var e=z(t);P(e),function(t){if(!g&&O){var e=t.target.getBoundingClientRect();for(var n in O){var c=O[n];O[n]={x:c.x+t.movementX*s/e.width,y:c.y+t.movementY*i/e.height}}a(Object(N.a)(r))}}(t)},className:C(q)||M(q)?"selecting":""})}function Tt(t){var e=t.name,n="matchstick-instance-data-".concat(e),r=JSON.parse(sessionStorage.getItem(n)),a=Object(b.useState)(r.work),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)("saved"),l=Object(j.a)(o,2),h=l[0],d=J("matchstick",e,l[1]),v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return d(t)};return E("matchstick",e),Object(f.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:r.description}),Object(f.jsxs)("div",{className:"matchstick display-container",children:[Object(f.jsx)(Pt,{reset:function(){var t=r.startingConfiguration.map((function(t){return t.map((function(t){return Object(u.a)({},t)}))}));s(t),v(t)},isactive:!0}),Object(f.jsx)(It,{puzzleData:r,sticks:i,setSticks:s,updateWork:v}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===h?"Saving...":"error"===h?"An error occurred while saving.":"saved"===h?"Saved.":" "})]})]})}function Pt(t){var e=t.reset,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Lt={height:1024,width:1024,selectionProximity:25,stickLength:400,stickWidth:12,startingConfiguration:[[{x:100,y:312},{x:100,y:712}],[{x:130,y:312},{x:130,y:712}],[{x:160,y:312},{x:160,y:712}]]};function At(t){var e=t.history;return Object(f.jsxs)("div",{className:"matchstick-instructions",children:[Object(f.jsxs)("h2",{children:["Matchstick Puzzle Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"instructions",children:[Object(f.jsx)("p",{children:"Before you try the puzzles, see if you can make a triangle using the sticks below."}),Object(f.jsx)("p",{children:"You can move sticks by dragging them from their middle and rotate sticks by dragging them from either end."}),Object(f.jsx)("p",{children:"The button in the upper left resets the sticks to their original position."}),Object(f.jsx)(Et,{data:Lt}),Object(f.jsx)("p",{children:"These puzzle can be really tricky, good luck!"})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return e.push("/matchstick")},children:"Try It!"})]})}function Et(t){var e=t.data,n=Object(b.useState)(e.startingConfiguration),r=Object(j.a)(n,2),a=r[0],c=r[1],i=function(){var t=e.startingConfiguration.map((function(t){return t.map((function(t){return Object(u.a)({},t)}))}));c(t)};return Object(b.useEffect)(i,[]),Object(f.jsxs)("div",{className:"matchstick puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:e.description}),Object(f.jsxs)("div",{className:"matchstick display-container",children:[Object(f.jsx)(Bt,{reset:i,isactive:!0}),Object(f.jsx)(It,{puzzleData:e,sticks:a,setSticks:c,updateWork:function(){}})]})]})}function Bt(t){var e=t.reset,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}var Jt="Matchstick Puzzles",Wt="matchstick";function Ft(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all matchtick puzzles here"})}var Ut=[{instance:"instructions",title:"Instructions"},{instance:"fish",title:"Fish"},{instance:"squares1",title:"Squares 1"},{instance:"squares2",title:"Squares 2"},{instance:"squares3",title:"Squares 3"},{instance:"donkey",title:"Donkey"},{instance:"squares4",title:"Squares 4"},{instance:"squares5",title:"Squares 5"}];function Dt(t){var e=t.unitLength,n=t.startingCenter,r=t.work,a=Object(u.a)(Object(u.a)({},function(t){var e=t.startingCenter,n=t.unitLength;return{largeTriangle1:{center:{x:e.x,y:e.y+2*n*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)},angle:-Math.PI/2},largeTriangle2:{center:{x:e.x-2*n*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8),y:e.y},angle:0},mediumTriangle:{center:{x:e.x+n*(Math.sqrt(2)-Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)),y:e.y-n*(Math.sqrt(2)-Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8))},angle:-Math.PI/4},square:{center:{x:e.x,y:e.y-n*Math.sqrt(2)/2},angle:0},parallelogram:{center:{x:e.x+n*(3*Math.sqrt(2)/4),y:e.y+n*(Math.sqrt(2)/4)},angle:-Math.PI/4},smallTriangle1:{center:{x:e.x-n*Math.sqrt(2)/2,y:e.y-n*(Math.sqrt(2)/2+Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8))},angle:Math.PI/2},smallTriangle2:{center:{x:e.x+n*(Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8)),y:e.y},angle:Math.PI}}}({unitLength:e,startingCenter:n})),r);return[Xt(Object(u.a)(Object(u.a)({},a.largeTriangle1),{},{color:"#7d99ed",size:2*e,name:"largeTriangle1"})),Xt(Object(u.a)(Object(u.a)({},a.largeTriangle2),{},{color:"#70c2df",size:2*e,name:"largeTriangle2"})),Xt(Object(u.a)(Object(u.a)({},a.mediumTriangle),{},{color:"#9edfe5",size:e*Math.sqrt(2),name:"mediumTriangle"})),Ht(Object(u.a)(Object(u.a)({},a.square),{},{color:"#c3ebef",size:e})),Gt(Object(u.a)(Object(u.a)({},a.parallelogram),{},{color:"#3f2fa5",size:e})),Xt(Object(u.a)(Object(u.a)({},a.smallTriangle1),{},{color:"#6146d9",size:e,name:"smallTriangle1"})),Xt(Object(u.a)(Object(u.a)({},a.smallTriangle2),{},{color:"#7e6cfb",size:e,name:"smallTriangle2"}))]}function Rt(t){var e=t.shape,n=t.relAngle,r=t.distanceFromCenter,a={relAngle:n};return Object.defineProperty(a,"x",{get:function(){return e.center.x+Math.cos(e.angle+n)*r}}),Object.defineProperty(a,"y",{get:function(){return e.center.y+Math.sin(e.angle+n)*r}}),a}function Xt(t){var e=t.size,n=t.center,r=t.angle,a=t.color,c=t.name,i=e*Math.sin(Math.PI/8)/Math.sin(5*Math.PI/8),s=e*Math.sin(Math.PI/4)/Math.sin(5*Math.PI/8),o={center:n,color:a,angle:r,name:c};return o.vertices=[{relAngle:0,distanceFromCenter:i},{relAngle:5*Math.PI/8,distanceFromCenter:s},{relAngle:-5*Math.PI/8,distanceFromCenter:s}].map((function(t){return Rt(Object(u.a)(Object(u.a)({},t),{},{shape:o}))})),o}function Ht(t){var e=t.size,n=t.center,r=t.angle,a=t.color,c=e*Math.sqrt(2)/2,i={center:n,color:a,angle:r,name:"square"};return i.vertices=Array.from({length:4},(function(t,e){return Rt({shape:i,distanceFromCenter:c,relAngle:e*Math.PI/2})})),i}function Gt(t){var e=t.size,n=t.center,r=t.angle,a=t.color,c=e/2,i=e/Math.sin(Math.atan2(2,1)),s={center:n,color:a,angle:r,name:"parallelogram"};return s.vertices=[{relAngle:0,distanceFromCenter:c},{relAngle:-Math.atan2(2,1),distanceFromCenter:i},{relAngle:Math.PI,distanceFromCenter:c},{relAngle:-(Math.PI+Math.atan2(2,1)),distanceFromCenter:i}].map((function(t){return Rt(Object(u.a)(Object(u.a)({},t),{},{shape:s}))})),s}Ut.fetchCompletionStatus=W;var Yt=n(78);function _t(t){var e=t.ctx,n=t.width,r=t.height,a=t.objective,c=t.shapes,i=t.vertexSelection,s=t.shapeSelection,o=t.objectiveCenter,l=t.unitLength;e.clearRect(0,0,n,r),a.forEach(Zt.bind(null,e,o,l)),c.forEach(Kt.bind(null,e)),i?(e.beginPath(),e.arc(i.x,i.y,6,0,2*Math.PI),e.fillStyle="#c1b4fa",e.shadowBlur=4,e.shadowColor=e.fillStyle,e.fill(),e.shadowBlur=0,e.shadowColor="#0b032d"):s&&Kt(e,Object(u.a)(Object(u.a)({},s),{},{color:"#c1b4fa"}))}function Kt(t,e){var n=Object(Yt.a)(e.vertices),r=n[0],a=n.slice(1),c=e.color;e.center;t.beginPath(),t.moveTo(r.x,r.y),a.forEach((function(e){return t.lineTo(e.x,e.y)})),t.closePath(),t.fillStyle=c,t.fill()}function Zt(t,e,n,r){var a=r.map((function(t){var r=Object(j.a)(t,2),a=r[0],c=r[1];return[e.x+n*a,e.y+n*c]}));t.beginPath();var c=Object(Yt.a)(a),i=c[0],s=c.slice(1);t.moveTo.apply(t,Object(N.a)(i)),s.forEach((function(e){return t.lineTo.apply(t,Object(N.a)(e))})),t.closePath(),t.fillStyle="#0b032d",t.fill()}function $t(t){var e=t.data,n=t.work,r=t.updateWork,a=t.saveStatus,c=Object(b.useRef)(null),i=Object(b.useMemo)((function(){return e}),[e]),s=i.height,o=i.width,u=i.selectionProximity,l=i.unitLength,h=i.objective,d=i.startingCenter,v=i.objectiveCenter,g=Object(b.useState)(null),m=Object(j.a)(g,2),p=m[0],x=m[1],O=Object(b.useState)(null),w=Object(j.a)(O,2),y=w[0],k=w[1],q=Object(b.useState)({x:0,y:0}),S=Object(j.a)(q,2),z=S[0],M=S[1],C=Object(b.useState)(Dt({unitLength:l,startingCenter:d,work:n})),I=Object(j.a)(C,2),T=I[0],P=I[1],L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=t.target.getBoundingClientRect(),r={x:(e.clientX-n.left)/n.width*o,y:(e.clientY-n.top)/n.height*s};return M(r),r},A=Object(b.useCallback)((function(t){if(!y){var e=T.flatMap((function(t){return t.vertices}));return p||e.reduce((function(e,n){var r=kt(n,t),a=e?kt(t,e):1/0;return r<Math.min(a,u)?n:e}),null)}}),[T,p,y,u]),E=Object(b.useCallback)((function(t){return y||T.reduce((function(e,n){return function(t){var e=t.shape,n=e.vertices,r=e.center,a=t.point;return n.every((function(t,e,n){var c=n[(e+1)%n.length],i=[{x:t.x,y:t.y},{x:c.x,y:c.y}];return function(t,e,n){var r=Object(j.a)(n,2),a=r[0],c=r[1],i=Nt(t,a),s=Nt(e,a),o=wt(Nt(c,a));return Ct(i,o)*Ct(s,o)>=0}(a,r,i)}))}({shape:n,point:t})?n:e}),null)}),[T,y]),B=function(t){(function(t){var e=A(t);if(e){var n=T.find((function(t){return t.vertices.includes(e)}));return x(e),k(n),e}})(t)||function(t){var e=E(t);k(e)}(t)},J=function(t){if(p){var e=y.vertices,n=y.center,r=e.indexOf(p),a=e[(r+1)%e.length],c={x:a.x,y:a.y},i=Nt(p,a),s=Nt(e[0],n),o=Math.atan2(i.y,i.x)-Math.atan2(s.y,s.x),u=Nt(t,a),l=Math.atan2(u.y,u.x);y.angle=l-o,y.center=St(c,Nt(n,a)),P(Object(N.a)(T))}},W=function(){k(null),x(null)},F=function(){!function(){if(p){var t=y.vertices,e=y.center,n=t.indexOf(p),r=t[(n+1)%t.length],a={x:r.x,y:r.y},c=Nt(p,r),i=Nt(t[0],e),s=Math.atan2(c.y,c.x)-Math.atan2(i.y,i.x),o=Math.atan2(c.y,c.x),u=Array.from({length:25},(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[1];return Math.PI*r/12-Math.PI})).find((function(t){return Math.abs(o-t)<=Math.PI/23}));y.angle=u-s,y.center=St(a,Nt(e,r)),P(Object(N.a)(T))}}(),r(T),W()};return Object(b.useEffect)((function(){_t({ctx:c.current.getContext("2d"),shapeSelection:y||E(z),vertexSelection:p||A(z),height:s,width:o,shapes:T,objective:h,objectiveCenter:v,unitLength:l})}),[y,E,p,A,s,o,T,h,z,v,l]),Object(b.useEffect)((function(){var t=function(t){return y||p?t.preventDefault():null},e=document.querySelector("canvas");return e.addEventListener("touchmove",t,{passive:!1}),function(){return e.removeEventListener("touchmove",t)}}),[p,y]),Object(f.jsxs)("div",{className:"tangram display-container",children:[Object(f.jsx)(Qt,{reset:function(){var t=Dt({unitLength:l,startingCenter:d,work:{}});P(t),r(t)},isactive:!0}),Object(f.jsx)("canvas",{id:"tangram-canvas",ref:c,height:s,width:o,onMouseDown:function(t){B(L(t))},onMouseUp:F,onMouseLeave:W,onMouseMove:function(t){var e=L(t);J(e),function(t){if(!p&&y){var e=t.target.getBoundingClientRect(),n=y.center;y.center={x:n.x+t.movementX*o/e.width,y:n.y+t.movementY*s/e.height},P(Object(N.a)(T))}}(t)},onTouchStart:function(t){var e=t.touches[0],n=L(t,e);B(n)},onTouchEnd:F,onTouchMove:function(t){var e=t.touches[0],n=L(t,e);J(n),function(t){!p&&y&&(y.center=t,P(Object(N.a)(T)))}(n)},className:E(z)||A(z)?"selecting":""}),Object(f.jsx)("div",{className:"saving-indicator",children:"saving"===a?"Saving...":"error"===a?"An error occurred while saving.":"saved"===a?"Saved.":" "})]})}function Qt(t){var e=t.reset,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}function Vt(t){var e=t.name,n="tangram-instance-data-".concat(e),r=JSON.parse(sessionStorage.getItem(n)),a=Object(b.useState)(r.work),c=Object(j.a)(a,2),i=c[0],s=c[1],o=Object(b.useState)("saved"),l=Object(j.a)(o,2),h=l[0],d=J("tangram",e,l[1]);return E("tangram",e),Object(f.jsxs)("div",{className:"tangram puzzle-container",children:[Object(f.jsx)("p",{className:"description",children:r.description}),Object(f.jsx)($t,{data:r,work:i,updateWork:function(t){var e,n=Object(u.a)({},i),r=Object(A.a)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value,c=a.name,o=a.center,l=a.angle;n[c]={center:o,angle:l}}}catch(h){r.e(h)}finally{r.f()}s(n),d(n)},saveStatus:h})]})}Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2),Math.sqrt(2);var te={objective:[[[-Math.sqrt(2),-Math.sqrt(2)],[Math.sqrt(2),-Math.sqrt(2)],[Math.sqrt(2),Math.sqrt(2)],[-Math.sqrt(2),Math.sqrt(2)]]],startingCenter:{x:768,y:384},unitLength:100,height:768,width:1024,selectionProximity:20,objectiveCenter:{x:300,y:384},work:{}};function ee(t){var e=t.history;return Object(f.jsxs)("div",{className:"tangram tangram-instructions",children:[Object(f.jsxs)("h2",{children:["Tangram Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsx)("p",{className:"instructions",children:"In tangram puzzles you will be given the same pieces each time and be tasked with making different shapes out of them! To move a piece, simply drag it. And to rotate a piece drag one of its corners."}),Object(f.jsx)($t,{data:te,work:{},updateWork:function(){}}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return e.push("/tangram")},children:"Try It!"})]})}var ne="Tangrams",re="tangram";function ae(){return Object(f.jsx)("div",{className:"list-preview",children:"Find all tangram puzzles here"})}var ce=[{instance:"instructions",title:"Instructions"},{instance:"triangle",title:"Triangle"},{instance:"rectangle",title:"Rectangle"},{instance:"trapezoid",title:"Trapezoid"},{instance:"twotriangles",title:"Two Triangles"},{instance:"twosquares",title:"Two Squares"},{instance:"cube",title:"Cube"},{instance:"hexagon",title:"Hexagon"},{instance:"incompleterectangle",title:"Incomplete Rectangle"}];ce.fetchCompletionStatus=W;function ie(t){var e=Object(b.useRef)(null),n=t.sticks,r=t.name,a=Object(b.useCallback)((function(t){t.clearRect(0,0,1024,1024),t.beginPath(),t.lineWidth=6,t.lineCap="round",t.stroke();var e,r=Object(A.a)(n);try{for(r.s();!(e=r.n()).done;){var a=Object(j.a)(e.value,2),c=a[0],i=a[1];t.beginPath(),t.lineWidth=6,t.strokeStyle="#0b032d",t.moveTo(c.x,c.y),t.lineTo(i.x,i.y),t.stroke()}}catch(s){r.e(s)}finally{r.f()}}),[n]);return Object(b.useEffect)((function(){var t=e.current.getContext("2d");a(t)}),[a]),Object(f.jsxs)("div",{className:"stick-image-guess",children:[Object(f.jsx)("div",{className:"name",children:se(r.first)+" "+se(r.last)}),Object(f.jsx)("canvas",{style:{height:256,width:256},id:"mandelbrot-canvas",ref:e,height:1024,width:1024})]})}function se(t){return t.replace(/^.|\W./g,(function(t){return t.toUpperCase()}))}var oe={height:1024,width:1024,selectionProximity:25,stickLength:300,stickWidth:6,startingConfiguration:[[{x:900,y:100},{x:900,y:400}],[{x:885,y:100},{x:885,y:400}],[{x:870,y:100},{x:870,y:400}],[{x:855,y:100},{x:855,y:400}],[{x:840,y:100},{x:840,y:400}],[{x:825,y:100},{x:825,y:400}],[{x:810,y:100},{x:810,y:400}],[{x:795,y:100},{x:795,y:400}]]};function ue(){var t=Object(b.useContext)(k).user.student,e=t.first,n=t.last,r="".concat(e,"_").concat(n),a="stick-image-instance-data-workspace";sessionStorage.getItem(a)||sessionStorage.setItem(a,JSON.stringify({work:oe.startingConfiguration}));var c=JSON.parse(sessionStorage.getItem(a)),i=Object(b.useState)(c.work),s=Object(j.a)(i,2),o=s[0],l=s[1],v=Object(b.useState)({}),g=Object(j.a)(v,2),m=g[0],p=g[1],x=Object(b.useState)(!1),O=Object(j.a)(x,2),w=O[0],y=O[1],q=Object(b.useState)([]),N=Object(j.a)(q,2),S=N[0],z=N[1],M=Object(b.useState)(!1),C=Object(j.a)(M,2),I=C[0],T=C[1],P=J("stick-image","workspace",(function(){})),L=function(t,e){var n=Object(b.useContext)(k).user.student,r=n.first,a=n.last;return function(n,c){var i="".concat("https://secret-plains-66902.herokuapp.com/api","/students/").concat(n,"/")+"".concat(t,"/").concat(e,"/messages");fetch(i,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"".concat(r,"_").concat(a),message:c})})}}("stick-image","workspace"),A=function(t,e,n){var r=Object(b.useContext)(k).user.token,a="".concat("https://secret-plains-66902.herokuapp.com/api","/puzzles/")+"".concat(t,"/").concat(e,"/messages");return Object(d.a)(h.a.mark((function t(){var e,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(a,{method:"GET",headers:{authorization:r}});case 2:if(!(e=t.sent).ok){t.next=10;break}return t.next=6,e.json();case 6:c=t.sent,n(c),t.next=11;break;case 10:throw new Error("HTTP error, status = ".concat(e.status));case 11:case"end":return t.stop()}}),t)})))}("stick-image","workspace",p),B=function(t,e){var n=Object(b.useContext)(k).user.student,r=n.first,a=n.last;return function(){var n=Object(d.a)(h.a.mark((function n(c){var i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="".concat("https://secret-plains-66902.herokuapp.com/api","/students/").concat(c,"/")+"".concat(t,"/").concat(e,"/messages"),n.next=3,fetch(i,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"".concat(r,"_").concat(a)})});case 3:n.sent;case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}("stick-image","workspace"),W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return P(t)};E("stick-image","workspace"),Object(b.useEffect)((function(){A();var t=setInterval(A,2e3);return function(){return clearInterval(t)}}),[]),Object(b.useEffect)((function(){var t=m.instructor,e=(null===t||void 0===t?void 0:t.designer)||!1;if(y(e),e){var n=t.guessers.map((function(t){return m[t]})).filter((function(t){return!!t}));z(n)}}),[m]);return Object(f.jsxs)("div",{className:"matchstick puzzle-container stick-image-instance",children:[Object(f.jsxs)("div",{className:"matchstick display-container"+(I?" inactive":""),children:[Object(f.jsx)(le,{reset:function(){var t=oe.startingConfiguration.map((function(t){return t.map((function(t){return Object(u.a)({},t)}))}));L("kabirdas_henry",{updated:new Date}),l(t),W(t)},isactive:!0}),Object(f.jsx)(It,{puzzleData:oe,sticks:o,setSticks:l,updateWork:W})]}),w?w===r?Object(f.jsxs)("div",{className:"guess-container",children:[Object(f.jsx)("h3",{children:"Guesses"}),S.map((function(t){var e=t.name,n=t.sticks;return Object(f.jsx)(ie,{name:e,sticks:n})}))]}):Object(f.jsx)("button",{className:"toggle-guess"+(I?" guessing":""),onClick:function(){I?(B(w),T(!1)):(T(!0),L(w,{name:{first:e,last:n},sticks:o}))},children:I?"Keep Working":"Check"}):null]})}function le(t){var e=t.reset,n=t.isactive;return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:e,className:"reset nav-button",isactive:n.toString(),children:Object(f.jsx)("path",{d:"M1767 1184q0 5-1 7-64 268-268 434.5t-478 166.5q-146  0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26  19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187  36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5  9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45  19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53  117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268  270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45  19 19 45z"})})}function he(t){var e=t.history;return Object(f.jsxs)("div",{className:"matchstick-instructions",children:[Object(f.jsxs)("h2",{children:["Instructions",Object(f.jsx)("hr",{})]}),Object(f.jsxs)("div",{className:"instructions",children:[Object(f.jsx)("p",{children:"Choose someone in the group to be the designer and let the instructor know."}),Object(f.jsx)("p",{children:"The designer creates a stick design that is hidden from the rest of the team but as they make the design they explain what it looks like so that the rest of the team can make a copy of the same design."}),Object(f.jsx)("p",{children:"Team members can ask questions about the design at any time and the designer answers in as helpful a way as possible."}),Object(f.jsx)("p",{children:'When a team member thinks they have a completed design, they ask the designer to check by pressing the "check" button. If their design is correct they can then aid the designer in answering questions.'})]}),Object(f.jsx)("button",{className:"try-it",onClick:function(){return e.push("/stick-image/play")},children:"Try It!"})]})}var de="stick-image",je=[a,r,c,i,s],fe=[o],be="/stick-image",ve=function(){return Object(f.jsx)("div",{className:"potd-preview",children:"Group Activity!"})};function ge(t){var e=t.history,n=Object(b.useContext)(k).user.token;return Object(f.jsxs)("div",{className:"dashboard-container",children:[Object(f.jsx)(me,{history:e,token:n}),Object(f.jsxs)("div",{className:"puzzle-list-container",children:[Object(f.jsx)("h2",{children:"Individual Work"}),Object(f.jsx)("ul",{children:je.map(pe.bind(null,e,n))})]})]})}function me(t){var e=ve;return Object(f.jsxs)("div",{className:"potd-container",onClick:function(){return t.history.push(be,{token:t.token})},children:[Object(f.jsx)("h2",{children:"Puzzle of the Day"}),Object(f.jsx)(e,{})]})}function pe(t,e,n){return Object(f.jsxs)("li",{onClick:function(){return t.push("/".concat(n.id),{token:e})},children:[Object(f.jsx)("h3",{children:n.name}),n.ListPreview()]},n.id)}function xe(t){var e=t.history,n=t.instanceList,r=t.title,a=t.puzzleType,c=Object(b.useContext)(k).user,i=Object(b.useState)(!1),s=Object(j.a)(i,2),o=s[0],u=s[1];Object(b.useEffect)((function(){o||Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.fetchCompletionStatus(c);case 2:u(!0);case 3:case"end":return t.stop()}}),t)})))()}),[o,n,c]);return Object(f.jsxs)("div",{className:"instance-list-container",children:[Object(f.jsx)("h2",{children:r}),Object(f.jsx)("ul",{style:{"grid-template-rows":"repeat(".concat(Math.ceil(n.length/2),", 1fr)")},children:n.map(function(t,e){var n,r=e.instance,c=e.title,i="".concat(a,"-instance-data-").concat(r),s=JSON.parse(sessionStorage.getItem(i)),o=!!s&&s.completed;return Object(f.jsx)("li",{onClick:function(){return t.push("/".concat(a,"/").concat(r))},className:o?"completed":"",children:Object(f.jsx)("h3",{children:(n=c,n.replace(/^./,(function(t){return t.toUpperCase()})))})},r)}.bind(null,e))})]})}function Oe(t){var e=t.match,n=t.Instance,r=t.Instructions,a=t.id,c=t.name,i=t.instanceList;return Object(f.jsxs)(x.d,{children:[Object(f.jsx)(x.b,{path:"".concat(e.url,"/instructions"),render:function(t){return Object(f.jsx)(r,Object(u.a)({},t))}},"instructions"),i.map(function(t,e){var r=e.instance;return Object(f.jsx)(x.b,{path:"".concat(t.url,"/").concat(r),render:function(t){return Object(f.jsx)(n,Object(u.a)(Object(u.a)({},t),{},{name:r}))}},r)}.bind(null,e)),Object(f.jsx)(x.b,{exact:!0,path:e.url,render:function(t){return Object(f.jsx)(xe,Object(u.a)(Object(u.a)({},t),{},{instanceList:i,title:c,puzzleType:a}))}})]})}n(264);var we=Object(O.a)(),ye=Object(f.jsx)("path",{d:"M1792 1024v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z"});function ke(){var t=JSON.parse(sessionStorage.getItem("mcub-student-user")),e=Object(b.useState)(t),n=Object(j.a)(e,2),r=n[0],a=n[1],c={user:r,setUser:a};return Object(b.useEffect)((function(){r&&Object(d.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}),[r]),Object(f.jsx)(p.a,{history:we,basename:"/",children:Object(f.jsx)(k.Provider,{value:c,children:r?Object(f.jsxs)("div",{children:[Object(f.jsxs)("nav",{className:"main-nav",children:[Object(f.jsx)(Ne,{student:r.student,setUser:a}),Object(f.jsxs)(x.d,{children:[Object(f.jsx)(x.b,{exact:!0,path:"/"}),Object(f.jsx)(x.b,{component:qe})]})]}),Object(f.jsxs)(x.d,{children:[je.map(Se),fe.map(ze),Object(f.jsx)(x.b,{path:"/login",component:q}),Object(f.jsx)(x.b,{path:"/",component:ge})]})]}):Object(f.jsxs)(x.d,{children:[Object(f.jsx)(x.b,{path:"/login",component:q}),Object(f.jsx)(x.b,{path:"/",children:Object(f.jsx)(x.a,{to:"/login"})})]})})})}function qe(t){var e=t.history,n=window.location.href.match(/#(.*)\/[^/]+$/)[1];return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2048",height:"2048",viewBox:"0 0 2048 2048",onClick:function(){return e.push(n)},className:"back-button",children:ye})}function Ne(t){var e=t.student,n=t.setUser;return Object(f.jsxs)("div",{className:"profile-bar",children:[Object(f.jsxs)("span",{className:"student-name",children:[Me(e.first)," ",Me(e.last)]}),Object(f.jsx)("button",{onClick:function(){n(null),sessionStorage.removeItem("mcub-student-user")},className:"log-out",children:"Log Out"})]})}function Se(t){var e=t.Instance,n=t.id,r=t.Instructions,a=t.name,c=t.instanceList;return Object(f.jsx)(x.b,{path:"/".concat(t.id),render:function(t){return Object(f.jsx)(Oe,Object(u.a)(Object(u.a)({},t),{},{Instance:e,id:n,Instructions:r,name:a,instanceList:c}))}},t.id)}function ze(t){var e=t.id,n=t.Instructions,r=t.Instance;return Object(f.jsxs)(x.b,{path:"/".concat(e),children:[Object(f.jsx)(x.b,{path:"/".concat(e,"/play"),component:r},e),Object(f.jsx)(x.b,{exact:!0,path:"/".concat(e),component:n},"".concat(e,"-instructions"))]},e)}function Me(t){return t.replace(/^.|\W./g,(function(t){return t.toUpperCase()}))}m.a.render(Object(f.jsx)(v.a.StrictMode,{children:Object(f.jsx)(ke,{})}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.8a542595.chunk.js.map