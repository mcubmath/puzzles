{"version":3,"sources":["login/user-context.js","login/index.js","puzzles/calcudoku/list.js","puzzles/calcudoku/instance.js","puzzles/calcudoku/instructions.js","puzzles/calcudoku/page.js","puzzles/calcudoku/index.js","puzzles/logic/list.js","puzzles/logic/instance.js","puzzles/logic/page.js","puzzles/logic/index.js","puzzles/index.js","home/index.js","index.js"],"names":["UserContext","React","createContext","user","setUser","Login","props","useState","first","setFirst","last","setLast","fetching","setFetching","badLogin","setBadLogin","useContext","updateName","updater","event","name","newName","target","value","replace","length","login","useCallback","create","a","studentData","uri","process","fetch","method","headers","body","JSON","stringify","response","ok","json","token","jwt","decode","student","sessionStorage","setItem","history","push","console","log","status","downHandler","key","useEffect","window","addEventListener","removeEventListener","className","htmlFor","type","id","onChange","bind","onClick","List","instanceList","sort","sortInstances","map","renderInstanceListing","string","instance","title","char","toUpperCase","b","match","sizeA","levelA","numberA","sizeB","levelB","numberB","includes","parsedOperations","Instance","useMemo","sessionDataKey","size","setSize","grid","setGrid","cages","setCages","activeSquare","setActiveSquare","saveStatus","setSaveStatus","dburl","sessionData","parse","getItem","generateGrid","authorization","data","url","puzzleName","puzzleId","updateWork","work","sq","col","row","puzzleData","newSessionData","isNaN","find","squareMatcher","renderNumberSelect","number","square","matchSquare","cage","result","squares","classList","neighbors","join","some","isDuplicate","reducer","startVal","operation","gridValues","val","index","i","gridvals","reduce","hasError","disabled","Array","fill","Math","floor","entry","neighborList","isTopLeft","every","directions","dir","example1","example2","example3","values","Instructions","Object","keys","Page","cachedList","setInstanceList","list","path","render","exact","ListPreview","description","setDescription","setWork","updateTimer","setUpdateTimer","initializing","useRef","apiurl","current","clearHistoryListener","listen","setTimeout","clearTimeout","conditionalUpdater","timeInterval","setInterval","timer","clearInterval","e","placeholder","puzzleList","calcudoku","logic","potd","Home","POTD","renderPuzzleListing","POTDPreview","puzzle","createBrowserHistory","backArrowPath","d","Routes","sessionUser","defaultContext","basename","Provider","ProfileBar","component","BackButton","renderPuzzleRoute","to","prevURL","location","href","xmlns","width","height","viewBox","capitalize","removeItem","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.502521cc.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const UserContext = React.createContext({\n\tuser: null,\n\tsetUser: () => {},\n});\n","import React, { useState, useContext, useEffect, useCallback } from \"react\";\nimport jwt from \"jsonwebtoken\";\nimport { UserContext } from \"./user-context\";\n\nexport default function Login(props) {\n\tconst [first, setFirst] = useState();\n\tconst [last, setLast] = useState();\n\tconst [fetching, setFetching] = useState(false);\n\tconst [badLogin, setBadLogin] = useState(false);\n\tconst { setUser } = useContext(UserContext);\n\n\tconst updateName = (updater, event) => {\n\t\tupdater((name) => {\n\t\t\tconst newName = event.target.value.replace(/[^a-zA-Z\\-']/, \"\");\n\t\t\treturn newName.length < 20 ? newName : name;\n\t\t});\n\t};\n\n\tconst login = useCallback(\n\t\tasync (create) => {\n\t\t\tif (!(first && last)) {\n\t\t\t\tsetBadLogin(\"missing name\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetFetching(create ? \"create\" : \"login\");\n\t\t\tconst studentData = { first, last };\n\t\t\tconst uri =\n\t\t\t\t`${process.env.REACT_APP_API_URL}/students` +\n\t\t\t\t(create ? \"\" : \"/login\");\n\t\t\tconst response = await fetch(uri, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify(studentData),\n\t\t\t});\n\t\t\tsetFetching(false);\n\t\t\tif (response.ok) {\n\t\t\t\tsetBadLogin(false);\n\t\t\t\ttry {\n\t\t\t\t\tconst token = (await response.json()).token;\n\t\t\t\t\tconst { student } = jwt.decode(token);\n\t\t\t\t\tconst user = { token, student };\n\t\t\t\t\tsessionStorage.setItem(\n\t\t\t\t\t\t\"mcub-student-user\",\n\t\t\t\t\t\tJSON.stringify(user)\n\t\t\t\t\t);\n\t\t\t\t\tsetUser(user);\n\t\t\t\t\tprops.history.push(\"/\");\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t} else if (response.status === 404 || response.status === 403) {\n\t\t\t\tsetBadLogin(response.status);\n\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t},\n\t\t[first, last, props.history, setUser]\n\t);\n\n\tconst downHandler = useCallback(\n\t\t({ key }) => {\n\t\t\tif (key === \"Enter\") {\n\t\t\t\tlogin(false);\n\t\t\t}\n\t\t},\n\t\t[login]\n\t);\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"keydown\", downHandler);\n\t\treturn () => window.removeEventListener(\"keydown\", downHandler);\n\t}, [downHandler]);\n\n\treturn (\n\t\t<div className=\"login-container\">\n\t\t\t<div className=\"login-window\">\n\t\t\t\t{fetching ? (\n\t\t\t\t\t<div className=\"fetching-indicator\">\n\t\t\t\t\t\t{fetching === \"create\"\n\t\t\t\t\t\t\t? \"Creating new user...\"\n\t\t\t\t\t\t\t: \"Logging in...\"}\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t\t{badLogin ? (\n\t\t\t\t\t<p className=\"login-error\">\n\t\t\t\t\t\t{badLogin === 404\n\t\t\t\t\t\t\t? \"User not found. Please try again or create a new user.\"\n\t\t\t\t\t\t\t: badLogin === 403\n\t\t\t\t\t\t\t? \"User already exists.\"\n\t\t\t\t\t\t\t: badLogin === \"missing name\"\n\t\t\t\t\t\t\t? \"Please enter both your first and last name.\"\n\t\t\t\t\t\t\t: \"An error occurred, please try again.\"}\n\t\t\t\t\t</p>\n\t\t\t\t) : null}\n\t\t\t\t<div className=\"name-container first\">\n\t\t\t\t\t<label htmlFor=\"firstname\">First Name:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"firstname\"\n\t\t\t\t\t\tid=\"firstname\"\n\t\t\t\t\t\tvalue={first}\n\t\t\t\t\t\tonChange={updateName.bind(null, setFirst)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"name-container last\">\n\t\t\t\t\t<label htmlFor=\"lastname\">Last Name:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"lastname\"\n\t\t\t\t\t\tid=\"lastname\"\n\t\t\t\t\t\tvalue={last}\n\t\t\t\t\t\tonChange={updateName.bind(null, setLast)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button className=\"create-student\" onClick={() => login(true)}>\n\t\t\t\t\tCreate\n\t\t\t\t</button>\n\t\t\t\t<button className=\"login-student\" onClick={() => login(false)}>\n\t\t\t\t\tLog-In\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nexport default function List(props) {\n\tconst history = props.history;\n\tconst instanceList = props.instanceList.sort(sortInstances);\n\n\treturn (\n\t\t<div className=\"calcudoku-page-container\">\n\t\t\t<div className=\"instance-list-container\">\n\t\t\t\t{instanceList.length === 0 ? (\n\t\t\t\t\t<h2 className=\"fetching-indicator\">Loading...</h2>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2>Calcudokus</h2>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tkey=\"instructions\"\n\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\thistory.push(`/calcudoku/instructions`)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h3>Instructions</h3>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{instanceList.map(\n\t\t\t\t\t\t\t\trenderInstanceListing.bind(null, history)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction renderInstanceListing(history, { instance, title }) {\n\treturn (\n\t\t<li\n\t\t\tkey={instance}\n\t\t\tonClick={() => history.push(`/calcudoku/${instance}`)}\n\t\t>\n\t\t\t<h3>{capitalize(title)}</h3>\n\t\t</li>\n\t);\n}\n\nfunction capitalize(string) {\n\treturn string.replace(/^./, (char) => char.toUpperCase());\n}\n\nfunction sortInstances({ instance: a }, { instance: b }) {\n\tconst [, sizeA, levelA, numberA] = a.match(/^(\\d)x\\d([a-z]+)(\\d+)$/);\n\tconst [, sizeB, levelB, numberB] = b.match(/^(\\d)x\\d([a-z]+)(\\d+)$/);\n\tif (sizeA < sizeB) return -1;\n\tif (sizeA > sizeB) return 1;\n\tif (levelA === \"beginner\" && [\"intermediate\", \"expert\"].includes(levelB))\n\t\treturn -1;\n\tif (levelA === \"intermediate\" && levelB === \"expert\") return -1;\n\tif (levelA === levelB && numberA < numberB) return -1;\n\treturn 1;\n}\n","import React, { useState, useEffect, useContext, useMemo } from \"react\";\nimport { UserContext } from \"../../login/user-context\";\n\nconst parsedOperations = {\n\t\"-\": \"-\",\n\t\"+\": \"+\",\n\t\"*\": \"x\",\n\t\"/\": \"÷\",\n};\n\nexport default function Instance(props) {\n\tconst name = useMemo(() => props.name, [props.name]);\n\tconst sessionDataKey = useMemo(() => `calcudoku-instance-data-${name}`, [\n\t\tname,\n\t]);\n\tconst [size, setSize] = useState(null);\n\tconst [grid, setGrid] = useState(null);\n\tconst [cages, setCages] = useState(null);\n\tconst [activeSquare, setActiveSquare] = useState(null);\n\tconst [saveStatus, setSaveStatus] = useState(null);\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\tconst dburl = `${process.env.REACT_APP_API_URL}/puzzles/calcudoku/${name}`;\n\n\tuseEffect(() => {\n\t\tconst sessionData = JSON.parse(sessionStorage.getItem(sessionDataKey));\n\n\t\tif (sessionData) {\n\t\t\tsetSize(sessionData.size);\n\t\t\tsetGrid(generateGrid(sessionData));\n\t\t\tsetCages(sessionData.cages);\n\t\t\tsetSaveStatus(\"saved\");\n\t\t\treturn;\n\t\t}\n\n\t\t(async () => {\n\t\t\tconst response = await fetch(dburl, {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { authorization: token },\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\ttry {\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\tsessionStorage.setItem(\n\t\t\t\t\t\tsessionDataKey,\n\t\t\t\t\t\tJSON.stringify(data)\n\t\t\t\t\t);\n\t\t\t\t\tsetSize(data.size);\n\t\t\t\t\tsetGrid(generateGrid(data));\n\t\t\t\t\tsetCages(data.cages);\n\t\t\t\t\tsetSaveStatus(\"saved\");\n\t\t\t\t} catch (error) {\n\t\t\t\t\tsetGrid([]);\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t})();\n\t}, [dburl, token, sessionDataKey]);\n\n\tuseEffect(() => {\n\t\tconst url = `${process.env.REACT_APP_API_URL}/activepuzzle`;\n\t\t(async () => {\n\t\t\tconst response = await fetch(url, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tauthorization: token,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tpuzzleName: \"calcudoku\",\n\t\t\t\t\tpuzzleId: name,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconsole.log(response.status);\n\t\t})();\n\n\t\treturn () => {\n\t\t\tfetch(url, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\theaders: {\n\t\t\t\t\tauthorization: token,\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\t}, [token, name]);\n\n\tconst updateWork = async () => {\n\t\tsetSaveStatus(\"saving\");\n\t\tconst work = grid.map((sq) => {\n\t\t\treturn { col: sq.col, row: sq.row, value: sq.value };\n\t\t});\n\n\t\tconst response = await fetch(dburl, {\n\t\t\tmethod: \"PUT\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tauthorization: token,\n\t\t\t},\n\t\t\tbody: JSON.stringify({ puzzleData: work }),\n\t\t});\n\n\t\tconst newSessionData = JSON.parse(\n\t\t\tsessionStorage.getItem(sessionDataKey)\n\t\t);\n\t\tnewSessionData.work = work;\n\t\tsessionStorage.setItem(sessionDataKey, JSON.stringify(newSessionData));\n\n\t\tif (response.ok) setSaveStatus(\"saved\");\n\t\telse setSaveStatus(\"error\");\n\n\t\tconsole.log(response.status);\n\t};\n\n\tconst downHandler = ({ key }) => {\n\t\tif (activeSquare) {\n\t\t\tif (!isNaN(key) && 1 <= key && key <= size) {\n\t\t\t\tactiveSquare.value = key;\n\t\t\t} else {\n\t\t\t\tconst { col, row } = activeSquare;\n\t\t\t\tswitch (key) {\n\t\t\t\t\tcase \"Backspace\":\n\t\t\t\t\tcase \"Delete\":\n\t\t\t\t\t\tactiveSquare.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\t\tsetActiveSquare(\n\t\t\t\t\t\t\tgrid.find(squareMatcher({ col: col - 1, row })) ||\n\t\t\t\t\t\t\t\tactiveSquare\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\t\tsetActiveSquare(\n\t\t\t\t\t\t\tgrid.find(squareMatcher({ col: col + 1, row })) ||\n\t\t\t\t\t\t\t\tactiveSquare\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"ArrowLeft\":\n\t\t\t\t\t\tsetActiveSquare(\n\t\t\t\t\t\t\tgrid.find(squareMatcher({ col, row: row - 1 })) ||\n\t\t\t\t\t\t\t\tactiveSquare\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase \"ArrowRight\":\n\t\t\t\t\t\tsetActiveSquare(\n\t\t\t\t\t\t\tgrid.find(squareMatcher({ col, row: row + 1 })) ||\n\t\t\t\t\t\t\t\tactiveSquare\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetGrid([...grid]);\n\t\t\tupdateWork();\n\t\t} else if (\n\t\t\t[\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"].includes(key)\n\t\t) {\n\t\t\tsetActiveSquare(grid.find(squareMatcher({ col: 0, row: 0 })));\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twindow.addEventListener(\"keydown\", downHandler);\n\t\treturn () => window.removeEventListener(\"keydown\", downHandler);\n\t});\n\n\tconst renderSquare = (square) => {\n\t\tconst matchSquare = squareMatcher(square);\n\t\tconst cage =\n\t\t\tsquare.result && cages\n\t\t\t\t? cages.find((cage) => cage.squares.find(matchSquare))\n\t\t\t\t: null;\n\t\tconst classList =\n\t\t\t\"calcudoku-square \" +\n\t\t\tsquare.neighbors.join(\" \") +\n\t\t\t(square === activeSquare ? \" active\" : \"\") +\n\t\t\t(name.match(\"4x4beginner1\") && isDuplicate(grid, square)\n\t\t\t\t? \" duplicate\"\n\t\t\t\t: \"\") +\n\t\t\t((name.match(\"4x4beginner1\") || name.match(\"4x4beginner2\")) &&\n\t\t\tcage &&\n\t\t\thasError(grid, cage)\n\t\t\t\t? \" cageError\"\n\t\t\t\t: \"\");\n\t\treturn (\n\t\t\t<div className={classList} onClick={() => setActiveSquare(square)}>\n\t\t\t\t<div className=\"cage-indicator\">\n\t\t\t\t\t{square.result}\n\t\t\t\t\t{square.operation}\n\t\t\t\t</div>\n\t\t\t\t<input type=\"number\" value={square.value || \"\"} disabled />\n\t\t\t\t<div className=\"selector\"></div>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderNumberSelect = (number) => {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"number-select\"\n\t\t\t\tkey={`num${number}`}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tactiveSquare.value = number;\n\t\t\t\t\tsetGrid([...grid]);\n\t\t\t\t\tupdateWork();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{number}\n\t\t\t</button>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{grid ? (\n\t\t\t\t<div className=\"puzzle-container\" size={size}>\n\t\t\t\t\t<div className=\"saving-indicator\">\n\t\t\t\t\t\t{saveStatus === \"saving\"\n\t\t\t\t\t\t\t? \"Saving...\"\n\t\t\t\t\t\t\t: saveStatus === \"error\"\n\t\t\t\t\t\t\t? \"An error occurred while saving.\"\n\t\t\t\t\t\t\t: saveStatus === \"saved\"\n\t\t\t\t\t\t\t? \"Saved.\"\n\t\t\t\t\t\t\t: \" \"}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"grid-container\" size={size}>\n\t\t\t\t\t\t{grid.map(renderSquare)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"number-select-container\">\n\t\t\t\t\t\t{new Array(size)\n\t\t\t\t\t\t\t.fill(null)\n\t\t\t\t\t\t\t.map((...[, number]) =>\n\t\t\t\t\t\t\t\trenderNumberSelect(number + 1)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<h2 className=\"loading-indicator\">Loading...</h2>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nfunction generateGrid(puzzleData) {\n\tconst { size, cages, work } = puzzleData;\n\tconst squares = Array(size ** 2).fill(null);\n\treturn squares.map((...[, index]) => {\n\t\tconst col = Math.floor(index / size);\n\t\tconst row = index % size;\n\t\tconst matchSquare = squareMatcher({ col, row });\n\t\tconst entry = work.find(matchSquare);\n\t\tconst cage = cages.find((cage) => cage.squares.find(matchSquare));\n\t\tconst neighbors = neighborList({ col, row }, cage);\n\t\tconst isTopLeft = cage.squares.every(\n\t\t\t(square) =>\n\t\t\t\tsquare.col >= col && (square.row >= row || square.col > col)\n\t\t);\n\t\tconst result = isTopLeft ? cage.result : null;\n\t\tconst operation = isTopLeft ? parsedOperations[cage.operation] : null;\n\t\tconst value = entry ? entry.value : null;\n\t\treturn { col, row, value, neighbors, result, operation };\n\t});\n}\n\nfunction neighborList(square, cage) {\n\tconst neighbors = [];\n\tconst directions = {\n\t\t\"n-up\": { col: square.col - 1, row: square.row },\n\t\t\"n-down\": { col: square.col + 1, row: square.row },\n\t\t\"n-left\": { col: square.col, row: square.row - 1 },\n\t\t\"n-right\": { col: square.col, row: square.row + 1 },\n\t};\n\n\tfor (let dir in directions) {\n\t\tconst matchSquare = squareMatcher(directions[dir]);\n\t\tif (cage.squares.find(matchSquare)) {\n\t\t\tneighbors.push(dir);\n\t\t}\n\t}\n\n\treturn neighbors;\n}\n\nfunction squareMatcher({ col, row }) {\n\treturn (square) => square.col === col && square.row === row;\n}\n\nfunction isDuplicate(grid, { col, row, value }) {\n\treturn grid.some(\n\t\t(square) =>\n\t\t\t(square.row === row || square.col === col) &&\n\t\t\t!(square.row === row && square.col === col) &&\n\t\t\tsquare.value === value\n\t);\n}\n\nfunction hasError(grid, { squares, operation, result }) {\n\tconst gridValues = squares.map(\n\t\t(square) => +grid.find(squareMatcher(square)).value\n\t);\n\tif (gridValues.some((val) => !val)) return false;\n\tlet reducer, startVal;\n\tswitch (operation) {\n\t\tcase \"+\":\n\t\t\tstartVal = 0;\n\t\t\treducer = (index) => (a, b) => a + b;\n\t\t\tbreak;\n\t\tcase \"-\":\n\t\t\tstartVal = 0;\n\t\t\treducer = (index) => (a, b, i) => (i === index ? a + b : a - b);\n\t\t\tbreak;\n\t\tcase \"*\":\n\t\t\tstartVal = 1;\n\t\t\treducer = (index) => (a, b) => a * b;\n\t\t\tbreak;\n\t\tcase \"/\":\n\t\t\tstartVal = 1;\n\t\t\treducer = (index) => (a, b, i) => (i === index ? a * b : a / b);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tstartVal = 0;\n\t\t\treducer = (index) => (a, b) => b;\n\t}\n\tconst results = gridValues.map((val, index, gridvals) =>\n\t\tgridvals.reduce(reducer(index), startVal)\n\t);\n\n\treturn !results.includes(+result);\n}\n","import React, { useState } from \"react\";\n\nconst parsedOperations = {\n\t\"-\": \"-\",\n\t\"+\": \"+\",\n\t\"*\": \"x\",\n\t\"/\": \"÷\",\n};\n\nconst example1 = {\n\tsize: 4,\n\twork: Array(16)\n\t\t.fill(null)\n\t\t.map((...[, i]) => {\n\t\t\tconst row = Math.floor(i / 4);\n\t\t\tconst col = i % 4;\n\t\t\tconst value = ((col + row) % 4) + 1;\n\t\t\treturn { row, col, value };\n\t\t}),\n\tcages: [],\n};\nconst example2 = {\n\tsize: 4,\n\twork: [\n\t\t{ col: 0, row: 0, value: 1 },\n\t\t{ col: 1, row: 0, value: 2 },\n\t\t{ col: 2, row: 0, value: 3 },\n\t\t{ col: 3, row: 0, value: 4 },\n\t\t{ col: 0, row: 2, value: 2 },\n\t\t{ col: 0, row: 3, value: 4 },\n\t\t{ col: 1, row: 3, value: 1 },\n\t\t{ col: 3, row: 3, value: 3 },\n\t\t{ col: 2, row: 1, value: 2 },\n\t\t{ col: 2, row: 2, value: 4 },\n\t],\n\tcages: [\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 0, row: 0 },\n\t\t\t\t{ col: 1, row: 0 },\n\t\t\t],\n\t\t\toperation: \"+\",\n\t\t\tresult: \"3\",\n\t\t},\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 2, row: 0 },\n\t\t\t\t{ col: 3, row: 0 },\n\t\t\t],\n\t\t\toperation: \"-\",\n\t\t\tresult: \"1\",\n\t\t},\n\t\t{ squares: [{ col: 3, row: 3 }], operation: \"\", result: \"3\" },\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 0, row: 2 },\n\t\t\t\t{ col: 0, row: 3 },\n\t\t\t\t{ col: 1, row: 3 },\n\t\t\t],\n\t\t\toperation: \"*\",\n\t\t\tresult: \"8\",\n\t\t},\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 2, row: 1 },\n\t\t\t\t{ col: 2, row: 2 },\n\t\t\t],\n\t\t\toperation: \"/\",\n\t\t\tresult: \"2\",\n\t\t},\n\t],\n};\nconst example3 = {\n\tsize: 4,\n\twork: Array(16)\n\t\t.fill(null)\n\t\t.map((...[, i]) => {\n\t\t\tconst values = [3, 2, 4, 1, 2, 1, 3, 4, 4, 3, 1, 2, 1, 4, 2, 3];\n\t\t\tconst row = Math.floor(i / 4);\n\t\t\tconst col = i % 4;\n\t\t\tconst value = values[i];\n\t\t\treturn { row, col, value };\n\t\t}),\n\tcages: [\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 0, row: 0 },\n\t\t\t\t{ col: 0, row: 1 },\n\t\t\t],\n\t\t\toperation: \"+\",\n\t\t\tresult: \"5\",\n\t\t},\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 0, row: 2 },\n\t\t\t\t{ col: 0, row: 3 },\n\t\t\t\t{ col: 1, row: 3 },\n\t\t\t],\n\t\t\toperation: \"+\",\n\t\t\tresult: \"9\",\n\t\t},\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 1, row: 0 },\n\t\t\t\t{ col: 1, row: 1 },\n\t\t\t\t{ col: 2, row: 0 },\n\t\t\t],\n\t\t\toperation: \"-\",\n\t\t\tresult: \"1\",\n\t\t},\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 1, row: 2 },\n\t\t\t\t{ col: 2, row: 2 },\n\t\t\t],\n\t\t\toperation: \"+\",\n\t\t\tresult: \"4\",\n\t\t},\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 2, row: 1 },\n\t\t\t\t{ col: 3, row: 0 },\n\t\t\t\t{ col: 3, row: 1 },\n\t\t\t],\n\t\t\toperation: \"-\",\n\t\t\tresult: \"0\",\n\t\t},\n\t\t{\n\t\t\tsquares: [\n\t\t\t\t{ col: 2, row: 3 },\n\t\t\t\t{ col: 3, row: 2 },\n\t\t\t\t{ col: 3, row: 3 },\n\t\t\t],\n\t\t\toperation: \"+\",\n\t\t\tresult: \"7\",\n\t\t},\n\t],\n};\n\nexport default function Instructions({ history }) {\n\treturn (\n\t\t<div className=\"calcudoku-instructions\">\n\t\t\t<h2>\n\t\t\t\tCalcudoku Instructions\n\t\t\t\t<hr />\n\t\t\t</h2>\n\n\t\t\t<p>\n\t\t\t\tThe goal of each puzzle is to fill the grid with digits –– 1\n\t\t\t\tthrough 4 for a 4×4 grid, 1 through 5 for a 5×5, etc. –– so that\n\t\t\t\tno digit appears more than once in any row or any column.\n\t\t\t</p>\n\t\t\t<Instance data={example1} />\n\t\t\t<p>\n\t\t\t\tAdditionally, the grid is divided into heavily outlined groups\n\t\t\t\tof squares called “cages”. Each cage has a target number and an\n\t\t\t\toperation in its upper left corner. The numbers when the numbers\n\t\t\t\tin the cage are combined using the cage’s operation they must\n\t\t\t\tequal the target number.\n\t\t\t</p>\n\t\t\t<Instance data={example2} />\n\t\t\t<p>\n\t\t\t\tDigits may be repeated within a cage, as long as they are not in\n\t\t\t\tthe same row or column. No operation is relevant for a\n\t\t\t\tsingle-cell cage: placing the \"target\" in the cell is the only\n\t\t\t\tpossibility.\n\t\t\t</p>\n\t\t\t<Instance data={example3} />\n\t\t\t<p>\n\t\t\t\tBe careful that you know for sure that a number{\" \"}\n\t\t\t\t<strong>has</strong> to go in a square before you put it there.\n\t\t\t\tMaking a mistake early can cause trouble later on. Use lots of\n\t\t\t\tprocess of elimination!\n\t\t\t</p>\n\t\t\t<button\n\t\t\t\tclassName=\"try-it\"\n\t\t\t\tonClick={() => history.push(\"/calcudoku/4x4beginner1\")}\n\t\t\t>\n\t\t\t\tTry It!\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nfunction Instance({ data }) {\n\tconst { size } = data;\n\tconst [grid, setGrid] = useState(generateGrid(data));\n\tconst [activeSquare, setActiveSquare] = useState(null);\n\n\tconst renderSquare = (square) => {\n\t\tconst classList =\n\t\t\t\"calcudoku-square \" +\n\t\t\tsquare.neighbors.join(\" \") +\n\t\t\t(square === activeSquare ? \" active\" : \"\");\n\t\treturn (\n\t\t\t<div className={classList} onClick={() => setActiveSquare(square)}>\n\t\t\t\t<div className=\"cage-indicator\">\n\t\t\t\t\t{square.result}\n\t\t\t\t\t{square.operation}\n\t\t\t\t</div>\n\t\t\t\t<input type=\"number\" value={square.value || \"\"} disabled />\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderNumberSelect = (number) => {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"number-select\"\n\t\t\t\tkey={`num${number}`}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tactiveSquare.value = number;\n\t\t\t\t\tsetGrid([...grid]);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{number}\n\t\t\t</button>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{grid ? (\n\t\t\t\t<div className=\"puzzle-container instructions\" size={size}>\n\t\t\t\t\t<div className=\"grid-container\" size={size}>\n\t\t\t\t\t\t{grid.map(renderSquare)}\n\t\t\t\t\t</div>\n\t\t\t\t\t{/*\n\t\t\t\t\t<div className=\"number-select-container\">\n\t\t\t\t\t\t{new Array(size)\n\t\t\t\t\t\t\t.fill(null)\n\t\t\t\t\t\t\t.map((...[, number]) =>\n\t\t\t\t\t\t\t\trenderNumberSelect(number + 1)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</div>*/}\n\t\t\t\t</div>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nfunction generateGrid(puzzleData) {\n\tconst { size, cages, work } = puzzleData;\n\tconst squares = Array(size ** 2).fill(null);\n\treturn squares.map((...[, index]) => {\n\t\tconst col = Math.floor(index / size);\n\t\tconst row = index % size;\n\t\tconst matchSquare = squareMatcher({ col, row });\n\t\tconst entry = work.find(matchSquare);\n\t\tconst value = entry ? entry.value : null;\n\t\tconst cage = cages.find((cage) => cage.squares.find(matchSquare));\n\t\tconst neighbors = neighborList({ col, row }, cage);\n\t\tif (!cage) return { col, row, value, neighbors };\n\t\tconst isTopLeft = cage.squares.every(\n\t\t\t(square) =>\n\t\t\t\tsquare.col >= col && (square.row >= row || square.col > col)\n\t\t);\n\t\tconst result = isTopLeft ? cage.result : null;\n\t\tconst operation = isTopLeft ? parsedOperations[cage.operation] : null;\n\t\treturn { col, row, value, neighbors, result, operation };\n\t});\n}\n\nfunction neighborList(square, cage) {\n\tconst neighbors = [];\n\tconst directions = {\n\t\t\"n-up\": { col: square.col - 1, row: square.row },\n\t\t\"n-down\": { col: square.col + 1, row: square.row },\n\t\t\"n-left\": { col: square.col, row: square.row - 1 },\n\t\t\"n-right\": { col: square.col, row: square.row + 1 },\n\t};\n\n\tif (!cage) return Object.keys(directions);\n\n\tfor (let dir in directions) {\n\t\tconst matchSquare = squareMatcher(directions[dir]);\n\t\tif (cage.squares.find(matchSquare)) {\n\t\t\tneighbors.push(dir);\n\t\t}\n\t}\n\n\treturn neighbors;\n}\n\nfunction squareMatcher({ col, row }) {\n\treturn (square) => square.col === col && square.row === row;\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport List from \"./list\";\nimport Instance from \"./instance\";\nimport Instructions from \"./instructions\";\nimport { UserContext } from \"../../login/user-context\";\n\nexport default function Page(props) {\n\tconst cachedList = sessionStorage.getItem(\"calcudoku-instance-list\");\n\tconst [instanceList, setInstanceList] = useState(\n\t\tcachedList ? JSON.parse(cachedList) : []\n\t);\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\tconst match = props.match;\n\n\tuseEffect(() => {\n\t\tif (cachedList) {\n\t\t\tsetInstanceList(JSON.parse(cachedList));\n\t\t} else {\n\t\t\t(async () => {\n\t\t\t\tconst uri = `${process.env.REACT_APP_API_URL}/puzzles/calcudoku/`;\n\t\t\t\tconst response = await fetch(uri, {\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\theaders: { authorization: token },\n\t\t\t\t});\n\t\t\t\tif (response.ok) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst list = await response.json();\n\t\t\t\t\t\tsessionStorage.setItem(\n\t\t\t\t\t\t\t\"calcudoku-instance-list\",\n\t\t\t\t\t\t\tJSON.stringify(list)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetInstanceList(list);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t\t})();\n\t\t}\n\t}, [token, cachedList]);\n\n\tconst renderInstanceRoute = (match, { instance }) => {\n\t\treturn (\n\t\t\t<Route\n\t\t\t\tkey={instance}\n\t\t\t\tpath={`${match.url}/${instance}`}\n\t\t\t\trender={(props) => <Instance {...props} name={instance} />}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route\n\t\t\t\tkey=\"instructions\"\n\t\t\t\tpath={`${match.url}/instructions`}\n\t\t\t\trender={(props) => <Instructions {...props} />}\n\t\t\t/>\n\t\t\t{instanceList\n\t\t\t\t? instanceList.map(renderInstanceRoute.bind(null, match))\n\t\t\t\t: null}\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath={match.url}\n\t\t\t\trender={(props) => (\n\t\t\t\t\t<List {...props} instanceList={instanceList} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t</Switch>\n\t);\n}\n","import React from \"react\";\nimport Page from \"./page\";\n\nconst name = \"Calcudokus\";\nconst id = \"calcudoku\";\n\nfunction ListPreview() {\n\treturn <div className=\"list-preview\">Find all calcudokus here</div>;\n}\n\nexport { Page, name, id, ListPreview };\n","import React from \"react\";\n\nexport default function List(props) {\n\tconst history = props.history;\n\tconst instanceList = props.instanceList;\n\n\treturn (\n\t\t<div className=\"logic-puzzles page-container\">\n\t\t\t<div className=\"instance-list-container\">\n\t\t\t\t{instanceList.length === 0 ? (\n\t\t\t\t\t<h2 className=\"fetching-indicator\">Loading...</h2>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2>Logic Puzzles</h2>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{instanceList.map(\n\t\t\t\t\t\t\t\trenderInstanceListing.bind(null, history)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction renderInstanceListing(history, { instance, title }) {\n\treturn (\n\t\t<li key={instance} onClick={() => history.push(`/logic/${instance}`)}>\n\t\t\t<h3>{capitalize(title)}</h3>\n\t\t</li>\n\t);\n}\n\nfunction capitalize(string) {\n\treturn string.replace(/^./, (char) => char.toUpperCase());\n}\n","import React, {\n\tuseState,\n\tuseEffect,\n\tuseContext,\n\tuseCallback,\n\tuseMemo,\n\tuseRef,\n} from \"react\";\nimport { UserContext } from \"../../login/user-context\";\n\nexport default function Instance(props) {\n\tconst name = useMemo(() => props.name, [props.name]);\n\tconst sessionDataKey = useMemo(() => `logic-instance-data-${name}`, [name]);\n\tconst [description, setDescription] = useState(\"\");\n\tconst [work, setWork] = useState(\"\");\n\tconst [saveStatus, setSaveStatus] = useState(null);\n\tconst [updateTimer, setUpdateTimer] = useState(30);\n\tconst initializing = useRef(true);\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\tconst apiurl = `${process.env.REACT_APP_API_URL}/puzzles/logic/${name}`;\n\n\tuseMemo(() => {\n\t\tconst sessionData = JSON.parse(sessionStorage.getItem(sessionDataKey));\n\n\t\tif (sessionData) {\n\t\t\tsetDescription(sessionData.description);\n\t\t\tsetWork(sessionData.work);\n\t\t\tsetSaveStatus(\"saved\");\n\t\t\treturn;\n\t\t}\n\n\t\t(async () => {\n\t\t\tconst response = await fetch(apiurl, {\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: { authorization: token },\n\t\t\t});\n\t\t\tif (response.ok) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { description, work } = await response.json();\n\t\t\t\t\tsessionStorage.setItem(\n\t\t\t\t\t\tsessionDataKey,\n\t\t\t\t\t\tJSON.stringify({ description, work })\n\t\t\t\t\t);\n\t\t\t\t\tsetDescription(description);\n\t\t\t\t\tsetWork(work);\n\t\t\t\t\tsetSaveStatus(\"saved\");\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t})();\n\t}, [apiurl, token, setWork, sessionDataKey]);\n\n\tuseEffect(() => {\n\t\tconst url = `${process.env.REACT_APP_API_URL}/activepuzzle`;\n\t\t(async () => {\n\t\t\tconst response = await fetch(url, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tauthorization: token,\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tpuzzleName: \"logic\",\n\t\t\t\t\tpuzzleId: name,\n\t\t\t\t}),\n\t\t\t});\n\t\t\tconsole.log(response.status);\n\t\t})();\n\n\t\treturn () => {\n\t\t\tfetch(url, {\n\t\t\t\tmethod: \"DELETE\",\n\t\t\t\theaders: {\n\t\t\t\t\tauthorization: token,\n\t\t\t\t},\n\t\t\t});\n\t\t};\n\t}, [token, name]);\n\n\tconst updateWork = useCallback(async () => {\n\t\tsetSaveStatus(\"saving\");\n\t\tconst response = await fetch(apiurl, {\n\t\t\tmethod: \"PUT\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tauthorization: token,\n\t\t\t},\n\t\t\tbody: JSON.stringify({ puzzleData: work }),\n\t\t});\n\n\t\tconst newSessionData = JSON.parse(\n\t\t\tsessionStorage.getItem(sessionDataKey)\n\t\t);\n\t\tnewSessionData.work = work;\n\t\tsessionStorage.setItem(sessionDataKey, JSON.stringify(newSessionData));\n\n\t\tif (response.ok) setSaveStatus(\"saved\");\n\t\telse setSaveStatus(\"error\");\n\n\t\tconsole.log(response.status);\n\t}, [token, work, apiurl, sessionDataKey]);\n\n\tuseEffect(() => {\n\t\tif (initializing.current) return (initializing.current = false);\n\t\tsetSaveStatus(null);\n\t\tconst clearHistoryListener = props.history.listen(updateWork);\n\t\tconst updateTimer = setTimeout(updateWork, 3000);\n\t\treturn () => {\n\t\t\tclearTimeout(updateTimer);\n\t\t\tclearHistoryListener();\n\t\t};\n\t}, [updateWork, props.history, setSaveStatus, initializing]);\n\n\tuseEffect(() => {\n\t\tconst conditionalUpdater = () => {\n\t\t\tif(saveStatus !== \"saved\") updateWork();\n\t\t}\n\t\twindow.addEventListener(\"beforeunload\", conditionalUpdater);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"beforeunload\", conditionalUpdater);\n\t\t};\n\t}, [updateWork, saveStatus]);\n\n\tuseEffect(() => {\n\t\tif (updateTimer === 0) {\n\t\t\tsetUpdateTimer(30);\n\t\t\tif (!saveStatus) updateWork();\n\t\t}\n\t}, [updateTimer, updateWork, saveStatus]);\n\n\tuseEffect(() => {\n\t\tconst timeInterval = setInterval(\n\t\t\t() => setUpdateTimer((timer) => timer - 1),\n\t\t\t1000\n\t\t);\n\t\treturn () => clearInterval(timeInterval);\n\t}, [setUpdateTimer]);\n\n\treturn description ? (\n\t\t<div className=\"logic instance\">\n\t\t\t<p className=\"puzzle-description\">{description}</p>\n\t\t\t<textarea\n\t\t\t\tclassName=\"work\"\n\t\t\t\tonChange={(e) => {\n\t\t\t\t\tsetWork(e.target.value);\n\t\t\t\t\t//updateWork();\n\t\t\t\t}}\n\t\t\t\tvalue={work}\n\t\t\t\tplaceholder=\"Enter your solution or any notes here!\"\n\t\t\t/>\n\t\t\t<div className=\"saving-indicator\">\n\t\t\t\t{saveStatus === \"saving\"\n\t\t\t\t\t? \"Saving...\"\n\t\t\t\t\t: saveStatus === \"error\"\n\t\t\t\t\t? \"An error occurred while saving.\"\n\t\t\t\t\t: saveStatus === \"saved\"\n\t\t\t\t\t? \"Saved.\"\n\t\t\t\t\t: \" \"}\n\t\t\t</div>\n\t\t</div>\n\t) : (\n\t\t<h2 className=\"loading-indicator\">Loading...</h2>\n\t);\n}\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport List from \"./list\";\nimport Instance from \"./instance\";\nimport { UserContext } from \"../../login/user-context\";\n\nexport default function Page(props) {\n\tconst cachedList = sessionStorage.getItem(\"logic-instance-list\");\n\tconst [instanceList, setInstanceList] = useState(\n\t\tcachedList ? JSON.parse(cachedList) : []\n\t);\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\tconst match = props.match;\n\n\tuseEffect(() => {\n\t\tif (cachedList) {\n\t\t\tsetInstanceList(JSON.parse(cachedList));\n\t\t} else {\n\t\t\t(async () => {\n\t\t\t\tconst uri = `${process.env.REACT_APP_API_URL}/puzzles/logic`;\n\t\t\t\tconst response = await fetch(uri, {\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\theaders: { authorization: token },\n\t\t\t\t});\n\t\t\t\tif (response.ok) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst list = await response.json();\n\t\t\t\t\t\tsessionStorage.setItem(\n\t\t\t\t\t\t\t\"logic-instance-list\",\n\t\t\t\t\t\t\tJSON.stringify(list)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tsetInstanceList(list);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t} else console.log(\"HTTP error, status = \" + response.status);\n\t\t\t})();\n\t\t}\n\t}, [token, cachedList]);\n\n\tconst renderInstanceRoute = (match, { instance }) => {\n\t\treturn (\n\t\t\t<Route\n\t\t\t\tkey={instance}\n\t\t\t\tpath={`${match.url}/${instance}`}\n\t\t\t\trender={(props) => <Instance {...props} name={instance} />}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Switch>\n\t\t\t{instanceList\n\t\t\t\t? instanceList.map(renderInstanceRoute.bind(null, match))\n\t\t\t\t: null}\n\t\t\t<Route\n\t\t\t\texact\n\t\t\t\tpath={match.url}\n\t\t\t\trender={(props) => (\n\t\t\t\t\t<List {...props} instanceList={instanceList} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t</Switch>\n\t);\n}\n","import React from \"react\";\nimport Page from \"./page\";\n\nconst name = \"Logic Puzzles\";\nconst id = \"logic\";\n\nfunction ListPreview() {\n\treturn <div className=\"list-preview\">Find all logic puzzles here</div>;\n}\n\nexport { Page, name, id, ListPreview };\n","//import * as Test from \"./test/index\";\nimport * as calcudoku from \"./calcudoku/index\";\nimport * as logic from \"./logic/index\";\n\nexport const puzzleList = [calcudoku, logic];\n\nexport const potd = {\n\turi: \"/calcudoku/instructions\",\n\tPreview: POTDPreview,\n};\n\nfunction POTDPreview() {\n\treturn <div className=\"potd-preview\">Like Sudokus, but with a twist!</div>;\n}\n","import React, { useContext } from \"react\";\nimport { potd, puzzleList } from \"../puzzles/index\";\nimport { UserContext } from \"../login/user-context.js\";\n\nexport default function Home({ history }) {\n\tconst {\n\t\tuser: { token },\n\t} = useContext(UserContext);\n\treturn (\n\t\t<div className=\"dashboard-container\">\n\t\t\t<POTD history={history} token={token} />\n\t\t\t<div className=\"puzzle-list-container\">\n\t\t\t\t<h2>Individual Work</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{puzzleList.map(\n\t\t\t\t\t\trenderPuzzleListing.bind(null, history, token)\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nfunction POTD(props) {\n\tconst POTDPreview = potd.Preview;\n\treturn (\n\t\t<div\n\t\t\tclassName=\"potd-container\"\n\t\t\tonClick={() => props.history.push(potd.uri, { token: props.token })}\n\t\t>\n\t\t\t<h2>Puzzle of the Day</h2>\n\t\t\t<POTDPreview />\n\t\t</div>\n\t);\n}\n\nfunction renderPuzzleListing(history, token, puzzle) {\n\treturn (\n\t\t<li\n\t\t\tkey={puzzle.id}\n\t\t\tonClick={() => history.push(`/${puzzle.id}`, { token })}\n\t\t>\n\t\t\t<h3>{puzzle.name}</h3>\n\t\t\t{puzzle.ListPreview()}\n\t\t</li>\n\t);\n}\n","import React, { useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport Login from \"./login/index\";\nimport { UserContext } from \"./login/user-context\";\nimport Home from \"./home/index\";\nimport { puzzleList } from \"./puzzles/index\";\n\nimport \"./stylesheets/index.css\";\n\nconst history = createBrowserHistory();\n\nconst backArrowPath = (\n\t<path\n\t\td={\n\t\t\t\"M1792 1024v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 \" +\n\t\t\t\"38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-\" +\n\t\t\t\"37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 \" +\n\t\t\t\"38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z\"\n\t\t}\n\t/>\n);\n\nfunction Routes() {\n\tconst sessionUser = JSON.parse(sessionStorage.getItem(\"mcub-student-user\"));\n\tconst [user, setUser] = useState(sessionUser);\n\tconst defaultContext = {\n\t\tuser,\n\t\tsetUser,\n\t};\n\treturn (\n\t\t<HashRouter history={history} basename=\"/\">\n\t\t\t<UserContext.Provider value={defaultContext}>\n\t\t\t\t{user ? (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<nav className=\"main-nav\">\n\t\t\t\t\t\t\t<ProfileBar\n\t\t\t\t\t\t\t\tstudent={user.student}\n\t\t\t\t\t\t\t\tsetUser={setUser}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path=\"/\" />\n\t\t\t\t\t\t\t\t<Route component={BackButton} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</nav>\n\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t{puzzleList.map(renderPuzzleRoute)}\n\t\t\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t\t\t<Route path=\"/\" component={Home} />\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t\t<Route path=\"/\">\n\t\t\t\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t)}\n\t\t\t</UserContext.Provider>\n\t\t</HashRouter>\n\t);\n}\n\nfunction BackButton({ history }) {\n\tconst prevURL = window.location.href.match(/#(.*)\\/[^/]+$/)[1];\n\tconsole.log(prevURL);\n\treturn (\n\t\t<svg\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\twidth=\"2048\"\n\t\t\theight=\"2048\"\n\t\t\tviewBox=\"0 0 2048 2048\"\n\t\t\tonClick={() => history.push(prevURL)}\n\t\t\tclassName=\"back-button\"\n\t\t>\n\t\t\t{backArrowPath}\n\t\t</svg>\n\t);\n}\n\nfunction ProfileBar({ student, setUser }) {\n\treturn (\n\t\t<div className=\"profile-bar\">\n\t\t\t<span className=\"student-name\">\n\t\t\t\t{capitalize(student.first)} {capitalize(student.last)}\n\t\t\t</span>\n\t\t\t<button\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetUser(null);\n\t\t\t\t\tsessionStorage.removeItem(\"mcub-student-user\");\n\t\t\t\t}}\n\t\t\t\tclassName=\"log-out\"\n\t\t\t>\n\t\t\t\tLog Out\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nfunction renderPuzzleRoute(puzzle) {\n\treturn (\n\t\t<Route key={puzzle.id} path={`/${puzzle.id}`} component={puzzle.Page} />\n\t);\n}\n\nfunction capitalize(string) {\n\treturn string.replace(/^.|\\W./g, (char) => char.toUpperCase());\n}\n\n//---------\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Routes />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}